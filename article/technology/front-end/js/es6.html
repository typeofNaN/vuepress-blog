<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.67" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://typeofNaN.github.io/vuepress-blog/article/technology/front-end/js/es6.html"><meta property="og:site_name" content="typeofNaN"><meta property="og:title" content="ES6"><meta property="og:description" content="è¿™ç¯‡æ–‡ç« çš„å‡ºå‘ç‚¹æ˜¯ä¸ºäº†å¸®åŠ©å‰ç«¯å¼€å‘è€…ä¸²è” ES6å‰åçš„ JavaScript çŸ¥è¯†ï¼Œå¹¶ä¸”å¯ä»¥å¿«é€Ÿäº†è§£ JavaScript è¯­è¨€çš„æœ€æ–°è¿›å±•ã€‚"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-02-29T02:01:09.000Z"><meta property="article:author" content="typeofNaN"><meta property="article:tag" content="ES6"><meta property="article:tag" content="JavaScript"><meta property="article:published_time" content="2018-12-15T00:00:00.000Z"><meta property="article:modified_time" content="2024-02-29T02:01:09.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"ES6","image":[""],"datePublished":"2018-12-15T00:00:00.000Z","dateModified":"2024-02-29T02:01:09.000Z","author":[{"@type":"Person","name":"typeofNaN","url":"https://typeofnan.cn"}]}</script><link rel="shortcut icon" type="image/x-icon" href="./favicon.png"><title>ES6 | typeofNaN</title><meta name="description" content="è¿™ç¯‡æ–‡ç« çš„å‡ºå‘ç‚¹æ˜¯ä¸ºäº†å¸®åŠ©å‰ç«¯å¼€å‘è€…ä¸²è” ES6å‰åçš„ JavaScript çŸ¥è¯†ï¼Œå¹¶ä¸”å¯ä»¥å¿«é€Ÿäº†è§£ JavaScript è¯­è¨€çš„æœ€æ–°è¿›å±•ã€‚">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/vuepress-blog/assets/style-0e337807.css" as="style"><link rel="stylesheet" href="/vuepress-blog/assets/style-0e337807.css">
    <link rel="modulepreload" href="/vuepress-blog/assets/app-12666b42.js"><link rel="modulepreload" href="/vuepress-blog/assets/es6.html-7b8862e0.js"><link rel="modulepreload" href="/vuepress-blog/assets/es6.html-7e3b14b0.js"><link rel="modulepreload" href="/vuepress-blog/assets/plugin-vue_export-helper-c27b6911.js"><link rel="prefetch" href="/vuepress-blog/assets/index.html-389a2f44.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/say-goodbye.html-b9979f21.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/their-18-year-old.html-01fbcd86.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/warm-and-free.html-31689d28.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/prototype-pattern.html-c93eb106.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/git-command.html-70f48c1d.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/build-hexo-blog.html-f7cbad0d.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/css-style-ruler.html-8986bb9c.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/css-vertical-center.html-95489fb7.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ECMAScript.html-7866fd59.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/array-unique.html-5f3607c9.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/jquery-study-note.html-a9d78cfa.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/js-copy.html-98277fb9.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/node-sass-version.html-47c44da9.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/observer-api.html-f89f865e.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/vite-deploy-github-page-problem.html-8483306a.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/jsx-in-vue.html-91796631.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/vue-directives.html-e2494a4e.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/404.html-797190b2.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-cb252f4b.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-980837d7.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-befae6e0.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-7d37b3f0.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-1fa1d1be.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-b05718a5.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-eeb0a6b5.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-22db15f5.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-a06f1cf4.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-08f7db0c.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-11efeb02.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-310b0337.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-980837d7.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-57a00a11.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-8cf5a088.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-050b7313.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-eda2c495.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-fdbfd47c.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-0612f1a1.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-29aee455.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-7c9431a5.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-5f31c25d.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-04c341b4.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-8bbc4732.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-ed3fad81.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-0907ac4d.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-90c23cb8.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-6b6e6014.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-91733fa2.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-77cad701.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-23af43e3.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-7645316a.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-1981d763.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-075d7c36.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-260f34da.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-5fc8f6c8.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-ed5c78c6.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-8305d049.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-29de963a.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-36c6aec4.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-46e7842e.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-7dbf1fac.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-0f2041dc.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-f5eec91b.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-f99d267a.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-4179a65e.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-bc2e7337.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-b6111f28.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-d69d7150.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-dfb5eaea.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-938ec717.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-dfcf4449.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-16a194be.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-65323055.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/say-goodbye.html-fbfb1013.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/their-18-year-old.html-37613ee6.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/warm-and-free.html-1f770e9c.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/prototype-pattern.html-ac106188.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/git-command.html-d97bc918.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/build-hexo-blog.html-c89bb522.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/css-style-ruler.html-c89df4c1.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/css-vertical-center.html-4bf09d02.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ECMAScript.html-030d9df4.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/array-unique.html-2feb38a7.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/jquery-study-note.html-0aa33101.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/js-copy.html-fe3a5e85.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/node-sass-version.html-3309082a.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/observer-api.html-e678ab34.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/vite-deploy-github-page-problem.html-1973e7fa.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/jsx-in-vue.html-56faef02.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/vue-directives.html-af828def.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/404.html-6b2d047e.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-97f07cf0.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-198cecf0.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-1dfabe37.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-1717593f.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-d78edefe.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-8e1aeb49.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-41791cba.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-f813a67b.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-98691ef6.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-32712b89.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-d0afc5b0.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-519dc9a7.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-198cecf0.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-2b99d397.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-3932c2d5.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-d05630ca.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-d416de8b.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-5d3586a3.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-426517b4.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-7880702f.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-52dcbfad.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-a17503c9.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-2fc1a546.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-62f11ddb.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-8eaaa2b2.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-fcf3d088.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-a3059a91.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-5537fe84.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-1b79241e.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-89f665cf.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-7b0b21a6.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-9f5a5e07.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-f282b57b.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-1f0ee102.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-0eaf9e02.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-170153c6.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-150c3526.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-cea7063e.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-8b95abf4.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-f62b14f7.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-2fdfc506.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-37c7914a.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-91204f7d.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-5319c05f.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-f9029f18.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-432ab015.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-262369d0.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-72ddeb0d.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-f5ab8e13.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-9823dc7f.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-b78a6bce.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-7b646c0a.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index.html-4c78dcd8.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/vidstack-player-a98d1ad5.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/vidstack-player-layouts-0083d86a.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/vidstack-player-ui-242411a6.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/giscus-0b7adcf8.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/photoswipe.esm-1464cdb9.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/pageview-62b43615.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/SearchResult-aaf63358.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand vp-brand" href="/vuepress-blog/"><!----><!----><span class="vp-site-name">typeofNaN</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><!----><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/typeofNaN" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><button type="button" class="search-pro-button" role="search" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">æœç´¢</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><span class="vp-sidebar-title">æŠ€æœ¯æ–‡ç« </span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">è®¾è®¡æ¨¡å¼</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><!----><span class="vp-sidebar-title">å‰ç«¯</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">CSS</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><!----><span class="vp-sidebar-title">JavaScript</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><!--[--><a aria-label="node-sass ç‰ˆæœ¬ä¸ Node ç‰ˆæœ¬å¯¹åº”å…³ç³»" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/vuepress-blog/article/technology/front-end/js/node-sass-version.html"><!---->node-sass ç‰ˆæœ¬ä¸ Node ç‰ˆæœ¬å¯¹åº”å…³ç³»<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="å°† vite é¡¹ç›®éƒ¨ç½²åˆ° Github Page çš„èµ„æº404é—®é¢˜" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/vuepress-blog/article/technology/front-end/js/vite-deploy-github-page-problem.html"><!---->å°† vite é¡¹ç›®éƒ¨ç½²åˆ° Github Page çš„èµ„æº404é—®é¢˜<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Observer API" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/vuepress-blog/article/technology/front-end/js/observer-api.html"><!---->Observer API<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ECMAScript" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/vuepress-blog/article/technology/front-end/js/ECMAScript.html"><!---->ECMAScript<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="jså®ç°å¤åˆ¶åŠŸèƒ½" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/vuepress-blog/article/technology/front-end/js/js-copy.html"><!---->jså®ç°å¤åˆ¶åŠŸèƒ½<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="æ•°ç»„å»é‡" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/vuepress-blog/article/technology/front-end/js/array-unique.html"><!---->æ•°ç»„å»é‡<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ES6" class="vp-link nav-link active vp-sidebar-link vp-sidebar-page active nav-link active vp-sidebar-link vp-sidebar-page active" href="/vuepress-blog/article/technology/front-end/js/es6.html"><!---->ES6<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="Using let" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#using-let"><!---->Using let<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Using const" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#using-const"><!---->Using const<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="éšå¼è¿”å›" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#éšå¼è¿”å›"><!---->éšå¼è¿”å›<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ç®­å¤´å‡½æ•°ä¸­çš„ this" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#ç®­å¤´å‡½æ•°ä¸­çš„-this"><!---->ç®­å¤´å‡½æ•°ä¸­çš„ this<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="class å®šä¹‰" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#class-å®šä¹‰"><!---->class å®šä¹‰<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Class ç»§æ‰¿" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#class-ç»§æ‰¿"><!---->Class ç»§æ‰¿<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="å¤šè¡Œå­—ç¬¦ä¸²" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#å¤šè¡Œå­—ç¬¦ä¸²"><!---->å¤šè¡Œå­—ç¬¦ä¸²<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æ’å€¼" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#æ’å€¼"><!---->æ’å€¼<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Template tags" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#template-tags"><!---->Template tags<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æ›´å¼ºå¤§çš„å¯¹è±¡å­—é¢é‡" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#æ›´å¼ºå¤§çš„å¯¹è±¡å­—é¢é‡"><!---->æ›´å¼ºå¤§çš„å¯¹è±¡å­—é¢é‡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="promiseçš„åŸç†ç®€è¿°" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#promiseçš„åŸç†ç®€è¿°"><!---->promiseçš„åŸç†ç®€è¿°<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ä¸ºä»€ä¹ˆJS APIä½¿ç”¨promises" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#ä¸ºä»€ä¹ˆjs-apiä½¿ç”¨promises"><!---->ä¸ºä»€ä¹ˆJS APIä½¿ç”¨promises<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="åˆ›å»ºä¸€ä¸ªpromise" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#åˆ›å»ºä¸€ä¸ªpromise"><!---->åˆ›å»ºä¸€ä¸ªpromise<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ä½¿ç”¨ä¸€ä¸ªpromise" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#ä½¿ç”¨ä¸€ä¸ªpromise"><!---->ä½¿ç”¨ä¸€ä¸ªpromise<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="é“¾å¼promise" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#é“¾å¼promise"><!---->é“¾å¼promise<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="é“¾å¼promiseçš„ä¾‹å­" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#é“¾å¼promiseçš„ä¾‹å­"><!---->é“¾å¼promiseçš„ä¾‹å­<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="å¤„ç†é”™è¯¯" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#å¤„ç†é”™è¯¯"><!---->å¤„ç†é”™è¯¯<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="çº§è”é”™è¯¯" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#çº§è”é”™è¯¯"><!---->çº§è”é”™è¯¯<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ç»„ç»‡å¤šä¸ªpromise" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#ç»„ç»‡å¤šä¸ªpromise"><!---->ç»„ç»‡å¤šä¸ªpromise<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ES æ¨¡å—è¯­æ³•" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#es-æ¨¡å—è¯­æ³•"><!---->ES æ¨¡å—è¯­æ³•<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="å…¶å®ƒçš„ import/export è¯­æ³•" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#å…¶å®ƒçš„-import-export-è¯­æ³•"><!---->å…¶å®ƒçš„ import/export è¯­æ³•<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="repeat()" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#repeat"><!---->repeat()<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="codePointAt()" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#codepointat"><!---->codePointAt()<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Object.is()" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#object-is"><!---->Object.is()<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Object.assign()" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#object-assign"><!---->Object.assign()<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="åˆå§‹åŒ–ä¸€ä¸ª Set" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#åˆå§‹åŒ–ä¸€ä¸ª-set"><!---->åˆå§‹åŒ–ä¸€ä¸ª Set<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="å‘ Set ä¸­æ·»åŠ ä¸€é¡¹" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#å‘-set-ä¸­æ·»åŠ ä¸€é¡¹"><!---->å‘ Set ä¸­æ·»åŠ ä¸€é¡¹<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æ£€æŸ¥å…ƒç´ æ˜¯å¦åœ¨ set ä¸­" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#æ£€æŸ¥å…ƒç´ æ˜¯å¦åœ¨-set-ä¸­"><!---->æ£€æŸ¥å…ƒç´ æ˜¯å¦åœ¨ set ä¸­<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ä» set ä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼š" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#ä»-set-ä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ "><!---->ä» set ä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼š<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ç¡®å®š set ä¸­å…ƒç´ çš„æ•°é‡" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#ç¡®å®š-set-ä¸­å…ƒç´ çš„æ•°é‡"><!---->ç¡®å®š set ä¸­å…ƒç´ çš„æ•°é‡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="åˆ é™¤ set ä¸­çš„å…¨éƒ¨å…ƒç´ " class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#åˆ é™¤-set-ä¸­çš„å…¨éƒ¨å…ƒç´ "><!---->åˆ é™¤ set ä¸­çš„å…¨éƒ¨å…ƒç´ <!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="å¯¹ set è¿›è¡Œè¿­ä»£" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#å¯¹-set-è¿›è¡Œè¿­ä»£"><!---->å¯¹ set è¿›è¡Œè¿­ä»£<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="å°† set è½¬æ¢ä¸ºä¸€ä¸ªæ•°ç»„" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#å°†-set-è½¬æ¢ä¸ºä¸€ä¸ªæ•°ç»„"><!---->å°† set è½¬æ¢ä¸ºä¸€ä¸ªæ•°ç»„<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="WeakSet" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#weakset"><!---->WeakSet<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="WeakSet ä¸å¯è¿­ä»£" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#weakset-ä¸å¯è¿­ä»£"><!---->WeakSet ä¸å¯è¿­ä»£<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="åœ¨ES6ä¹‹å‰" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#åœ¨es6ä¹‹å‰"><!---->åœ¨ES6ä¹‹å‰<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="å¼•å…¥Mapä¹‹å" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#å¼•å…¥mapä¹‹å"><!---->å¼•å…¥Mapä¹‹å<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="Mapçš„åˆå§‹åŒ–:" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#mapçš„åˆå§‹åŒ–"><!---->Mapçš„åˆå§‹åŒ–:<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æ·»åŠ æ¡ç›®åˆ°Mapä¸­" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#æ·»åŠ æ¡ç›®åˆ°mapä¸­"><!---->æ·»åŠ æ¡ç›®åˆ°Mapä¸­<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="é€šè¿‡keyå€¼ä»mapä¸­è·å–æ¡ç›®" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#é€šè¿‡keyå€¼ä»mapä¸­è·å–æ¡ç›®"><!---->é€šè¿‡keyå€¼ä»mapä¸­è·å–æ¡ç›®<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="é€šè¿‡keyå€¼ä»mapä¸­åˆ é™¤æ¡ç›®" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#é€šè¿‡keyå€¼ä»mapä¸­åˆ é™¤æ¡ç›®"><!---->é€šè¿‡keyå€¼ä»mapä¸­åˆ é™¤æ¡ç›®<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ä»mapä¸­åˆ é™¤æ‰€æœ‰æ¡ç›®" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#ä»mapä¸­åˆ é™¤æ‰€æœ‰æ¡ç›®"><!---->ä»mapä¸­åˆ é™¤æ‰€æœ‰æ¡ç›®<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="é€šè¿‡keyå€¼æ£€æŸ¥mapä¸­æ˜¯å¦å«æœ‰æŸä¸ªæ¡ç›®" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#é€šè¿‡keyå€¼æ£€æŸ¥mapä¸­æ˜¯å¦å«æœ‰æŸä¸ªæ¡ç›®"><!---->é€šè¿‡keyå€¼æ£€æŸ¥mapä¸­æ˜¯å¦å«æœ‰æŸä¸ªæ¡ç›®<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="è·å–mapä¸­çš„æ¡ç›®æ•°é‡" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#è·å–mapä¸­çš„æ¡ç›®æ•°é‡"><!---->è·å–mapä¸­çš„æ¡ç›®æ•°é‡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ç”¨valueå€¼åˆå§‹åŒ–ä¸€ä¸ªmap" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#ç”¨valueå€¼åˆå§‹åŒ–ä¸€ä¸ªmap"><!---->ç”¨valueå€¼åˆå§‹åŒ–ä¸€ä¸ªmap<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Map çš„keyå€¼" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#map-çš„keyå€¼"><!---->Map çš„keyå€¼<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ä½¿ç”¨Iterateè¿­ä»£å™¨è·å–mapçš„keyså€¼" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#ä½¿ç”¨iterateè¿­ä»£å™¨è·å–mapçš„keyså€¼"><!---->ä½¿ç”¨Iterateè¿­ä»£å™¨è·å–mapçš„keyså€¼<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ä½¿ç”¨Iterateè¿­ä»£å™¨è·å–mapçš„valueså€¼" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#ä½¿ç”¨iterateè¿­ä»£å™¨è·å–mapçš„valueså€¼"><!---->ä½¿ç”¨Iterateè¿­ä»£å™¨è·å–mapçš„valueså€¼<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="WeakMap" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#weakmap"><!---->WeakMap<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ä¸ºä»€ä¹ˆè¦å¼•å…¥async/await" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#ä¸ºä»€ä¹ˆè¦å¼•å…¥async-await"><!---->ä¸ºä»€ä¹ˆè¦å¼•å…¥async/await<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="å®ƒå¦‚ä½•å·¥ä½œ" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#å®ƒå¦‚ä½•å·¥ä½œ"><!---->å®ƒå¦‚ä½•å·¥ä½œ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ä¸€ä¸ªä¸Šæ‰‹ç¤ºä¾‹" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#ä¸€ä¸ªä¸Šæ‰‹ç¤ºä¾‹"><!---->ä¸€ä¸ªä¸Šæ‰‹ç¤ºä¾‹<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="å…³äº Promise" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#å…³äº-promise"><!---->å…³äº Promise<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ä¸²è¡Œå¤šä¸ªå¼‚æ­¥åŠŸèƒ½" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#ä¸²è¡Œå¤šä¸ªå¼‚æ­¥åŠŸèƒ½"><!---->ä¸²è¡Œå¤šä¸ªå¼‚æ­¥åŠŸèƒ½<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æ›´ç®€å•çš„è°ƒè¯•" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#æ›´ç®€å•çš„è°ƒè¯•"><!---->æ›´ç®€å•çš„è°ƒè¯•<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="å…±äº«å†…å­˜å’ŒåŸå­" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#å…±äº«å†…å­˜å’ŒåŸå­"><!---->å…±äº«å†…å­˜å’ŒåŸå­<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="å¼‚æ­¥è¿­ä»£å™¨" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#å¼‚æ­¥è¿­ä»£å™¨"><!---->å¼‚æ­¥è¿­ä»£å™¨<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ä»€ä¹ˆæ˜¯ ESNext" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#ä»€ä¹ˆæ˜¯-esnext"><!---->ä»€ä¹ˆæ˜¯ ESNext<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Well-formed JSON.stringify()" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#well-formed-json-stringify"><!---->Well-formed JSON.stringify()<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Function.prototype.toString()" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/vuepress-blog/article/technology/front-end/js/es6.html#function-prototype-tostring"><!---->Function.prototype.toString()<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a aria-label="jQuery å­¦ä¹ ç¬”è®°" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/vuepress-blog/article/technology/front-end/js/jquery-study-note.html"><!---->jQuery å­¦ä¹ ç¬”è®°<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Vue</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Git</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">å…¶ä»–</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-heart" style=""></span><span class="vp-sidebar-title">ç”Ÿæ´»æ„Ÿæ‚Ÿ</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->ES6</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://typeofnan.cn" target="_blank" rel="noopener noreferrer">typeofNaN</a></span><span property="author" content="typeofNaN"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2018-12-15T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 49 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT49M"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category7 clickable" role="navigation">æŠ€æœ¯æ–‡ç« </span><!--]--><meta property="articleSection" content="æŠ€æœ¯æ–‡ç« "></span><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item tag4 clickable" role="navigation">ES6</span><span class="page-tag-item tag5 clickable" role="navigation">JavaScript</span><!--]--><meta property="keywords" content="ES6,JavaScript"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#using-let">Using let</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#using-const">Using const</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#éšå¼è¿”å›">éšå¼è¿”å›</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#ç®­å¤´å‡½æ•°ä¸­çš„-this">ç®­å¤´å‡½æ•°ä¸­çš„ this</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#class-å®šä¹‰">class å®šä¹‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#class-ç»§æ‰¿">Class ç»§æ‰¿</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#å¤šè¡Œå­—ç¬¦ä¸²">å¤šè¡Œå­—ç¬¦ä¸²</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#æ’å€¼">æ’å€¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#template-tags">Template tags</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#æ›´å¼ºå¤§çš„å¯¹è±¡å­—é¢é‡">æ›´å¼ºå¤§çš„å¯¹è±¡å­—é¢é‡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#promiseçš„åŸç†ç®€è¿°">promiseçš„åŸç†ç®€è¿°</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#ä¸ºä»€ä¹ˆjs-apiä½¿ç”¨promises">ä¸ºä»€ä¹ˆJS APIä½¿ç”¨promises</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#åˆ›å»ºä¸€ä¸ªpromise">åˆ›å»ºä¸€ä¸ªpromise</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#ä½¿ç”¨ä¸€ä¸ªpromise">ä½¿ç”¨ä¸€ä¸ªpromise</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#é“¾å¼promise">é“¾å¼promise</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#é“¾å¼promiseçš„ä¾‹å­">é“¾å¼promiseçš„ä¾‹å­</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#å¤„ç†é”™è¯¯">å¤„ç†é”™è¯¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#çº§è”é”™è¯¯">çº§è”é”™è¯¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#ç»„ç»‡å¤šä¸ªpromise">ç»„ç»‡å¤šä¸ªpromise</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#es-æ¨¡å—è¯­æ³•">ES æ¨¡å—è¯­æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#å…¶å®ƒçš„-import-export-è¯­æ³•">å…¶å®ƒçš„ import/export è¯­æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#repeat">repeat()</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#codepointat">codePointAt()</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#object-is">Object.is()</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#object-assign">Object.assign()</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#åˆå§‹åŒ–ä¸€ä¸ª-set">åˆå§‹åŒ–ä¸€ä¸ª Set</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#å‘-set-ä¸­æ·»åŠ ä¸€é¡¹">å‘ Set ä¸­æ·»åŠ ä¸€é¡¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#æ£€æŸ¥å…ƒç´ æ˜¯å¦åœ¨-set-ä¸­">æ£€æŸ¥å…ƒç´ æ˜¯å¦åœ¨ set ä¸­</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#ä»-set-ä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ ">ä» set ä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼š</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#ç¡®å®š-set-ä¸­å…ƒç´ çš„æ•°é‡">ç¡®å®š set ä¸­å…ƒç´ çš„æ•°é‡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#åˆ é™¤-set-ä¸­çš„å…¨éƒ¨å…ƒç´ ">åˆ é™¤ set ä¸­çš„å…¨éƒ¨å…ƒç´ </a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#å¯¹-set-è¿›è¡Œè¿­ä»£">å¯¹ set è¿›è¡Œè¿­ä»£</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#å°†-set-è½¬æ¢ä¸ºä¸€ä¸ªæ•°ç»„">å°† set è½¬æ¢ä¸ºä¸€ä¸ªæ•°ç»„</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#weakset">WeakSet</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/vuepress-blog/#weakset-ä¸å¯è¿­ä»£">WeakSet ä¸å¯è¿­ä»£</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#åœ¨es6ä¹‹å‰">åœ¨ES6ä¹‹å‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#å¼•å…¥mapä¹‹å">å¼•å…¥Mapä¹‹å</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/vuepress-blog/#mapçš„åˆå§‹åŒ–">Mapçš„åˆå§‹åŒ–:</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/vuepress-blog/#æ·»åŠ æ¡ç›®åˆ°mapä¸­">æ·»åŠ æ¡ç›®åˆ°Mapä¸­</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/vuepress-blog/#é€šè¿‡keyå€¼ä»mapä¸­è·å–æ¡ç›®">é€šè¿‡keyå€¼ä»mapä¸­è·å–æ¡ç›®</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/vuepress-blog/#é€šè¿‡keyå€¼ä»mapä¸­åˆ é™¤æ¡ç›®">é€šè¿‡keyå€¼ä»mapä¸­åˆ é™¤æ¡ç›®</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/vuepress-blog/#ä»mapä¸­åˆ é™¤æ‰€æœ‰æ¡ç›®">ä»mapä¸­åˆ é™¤æ‰€æœ‰æ¡ç›®</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/vuepress-blog/#é€šè¿‡keyå€¼æ£€æŸ¥mapä¸­æ˜¯å¦å«æœ‰æŸä¸ªæ¡ç›®">é€šè¿‡keyå€¼æ£€æŸ¥mapä¸­æ˜¯å¦å«æœ‰æŸä¸ªæ¡ç›®</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/vuepress-blog/#è·å–mapä¸­çš„æ¡ç›®æ•°é‡">è·å–mapä¸­çš„æ¡ç›®æ•°é‡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/vuepress-blog/#ç”¨valueå€¼åˆå§‹åŒ–ä¸€ä¸ªmap">ç”¨valueå€¼åˆå§‹åŒ–ä¸€ä¸ªmap</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/vuepress-blog/#map-çš„keyå€¼">Map çš„keyå€¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/vuepress-blog/#ä½¿ç”¨iterateè¿­ä»£å™¨è·å–mapçš„keyså€¼">ä½¿ç”¨Iterateè¿­ä»£å™¨è·å–mapçš„keyså€¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/vuepress-blog/#ä½¿ç”¨iterateè¿­ä»£å™¨è·å–mapçš„valueså€¼">ä½¿ç”¨Iterateè¿­ä»£å™¨è·å–mapçš„valueså€¼</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#weakmap">WeakMap</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#ä¸ºä»€ä¹ˆè¦å¼•å…¥async-await">ä¸ºä»€ä¹ˆè¦å¼•å…¥async/await</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#å®ƒå¦‚ä½•å·¥ä½œ">å®ƒå¦‚ä½•å·¥ä½œ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#ä¸€ä¸ªä¸Šæ‰‹ç¤ºä¾‹">ä¸€ä¸ªä¸Šæ‰‹ç¤ºä¾‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#å…³äº-promise">å…³äº Promise</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#ä¸²è¡Œå¤šä¸ªå¼‚æ­¥åŠŸèƒ½">ä¸²è¡Œå¤šä¸ªå¼‚æ­¥åŠŸèƒ½</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#æ›´ç®€å•çš„è°ƒè¯•">æ›´ç®€å•çš„è°ƒè¯•</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#å…±äº«å†…å­˜å’ŒåŸå­">å…±äº«å†…å­˜å’ŒåŸå­</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#å¼‚æ­¥è¿­ä»£å™¨">å¼‚æ­¥è¿­ä»£å™¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#ä»€ä¹ˆæ˜¯-esnext">ä»€ä¹ˆæ˜¯ ESNext</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#well-formed-json-stringify">Well-formed JSON.stringify()</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/vuepress-blog/#function-prototype-tostring">Function.prototype.toString()</a></li><!----><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><p>è¿™ç¯‡æ–‡ç« çš„å‡ºå‘ç‚¹æ˜¯ä¸ºäº†å¸®åŠ©å‰ç«¯å¼€å‘è€…ä¸²è” ES6å‰åçš„ JavaScript çŸ¥è¯†ï¼Œå¹¶ä¸”å¯ä»¥å¿«é€Ÿäº†è§£ JavaScript è¯­è¨€çš„æœ€æ–°è¿›å±•ã€‚</p><!-- more --><p>JavaScript åœ¨å½“ä¸‹å¤„äºç‰¹æƒåœ°ä½ï¼Œå› ä¸ºå®ƒæ˜¯å”¯ä¸€å¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„è¯­è¨€ï¼Œå¹¶ä¸”æ˜¯è¢«é«˜åº¦é›†æˆå’Œä¼˜åŒ–è¿‡çš„ã€‚</p><p>JavaScript åœ¨æœªæ¥æœ‰ç€æå¥½çš„å‘å±•ç©ºé—´ï¼Œè·Ÿä¸Šå®ƒçš„å˜åŒ–ä¸ä¼šæ¯”ç°åœ¨æ›´åŠ çš„å›°éš¾ã€‚æˆ‘çš„ç›®æ ‡æ˜¯è®©ä½ èƒ½å¤Ÿå¿«é€Ÿä¸”å…¨é¢çš„äº†è§£è¿™é—¨è¯­è¨€å¯ä»¥ä½¿ç”¨çš„æ–°å†…å®¹ã€‚</p><h1 id="ecmascript-ç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#ecmascript-ç®€ä»‹" aria-hidden="true">#</a> ECMAScript ç®€ä»‹</h1><p>æ¯å½“é˜…è¯» JavaScript ç›¸å…³çš„æ–‡ç« æ—¶ï¼Œæˆ‘éƒ½ä¼šç»å¸¸é‡åˆ°å¦‚ä¸‹æœ¯è¯­ï¼š ES3, ES5, ES6, ES7, ES8, ES2015, ES2016, ES2017, ECMAScript 2017, ECMAScript 2016, ECMAScript 2015 ç­‰ç­‰ï¼Œé‚£ä¹ˆå®ƒä»¬æ˜¯æŒ‡ä»£çš„æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>å®ƒä»¬éƒ½æ˜¯æŒ‡ä»£ä¸€ä¸ªåä¸º ECMAScript çš„æ ‡å‡†ã€‚</p><p>JavaScript å°±æ˜¯åŸºäºè¿™ä¸ªæ ‡å‡†å®ç°çš„ï¼ŒECMAScript ç»å¸¸ç¼©å†™ä¸º ESã€‚</p><p>é™¤äº† JavaScript ä»¥å¤–ï¼Œå…¶å®ƒåŸºäº ECMAScript å®ç°è¯­è¨€åŒ…æ‹¬ï¼š</p><p>ActionScript ( Flash è„šæœ¬è¯­è¨€)ï¼Œç”±äº Adobe å°†äº 2020 å¹´æœ«åœæ­¢å¯¹ Flash çš„æ”¯æŒè€Œé€æ¸å¤±å»çƒ­åº¦ã€‚</p><p>JScript (å¾®è½¯å¼€å‘çš„è„šæœ¬è¯­è¨€),åœ¨ç¬¬ä¸€æ¬¡æµè§ˆå™¨å¤§æˆ˜æœ€æ¿€çƒˆçš„æ—¶æœŸï¼ŒJavaScript åªè¢«Netscapeæ‰€æ”¯æŒï¼Œå¾®è½¯å¿…é¡»ä¸º Internet Explorer æ„å»ºè‡ªå·±çš„è„šæœ¬è¯­è¨€ã€‚</p><p>ä½†æ˜¯ç°åœ¨æµä¼ æœ€å¹¿ã€å½±å“æœ€å¤§çš„åŸºäº ES æ ‡å‡†çš„è¯­è¨€å®ç°æ— ç–‘å°±æ˜¯ JavaScriptäº†</p><p>ä¸ºå•¥è¦ç”¨è¿™ä¸ªå¥‡æ€ªçš„åå­—å‘¢ï¼ŸEcma International æ˜¯ç‘å£«æ ‡å‡†åä¼šï¼Œè´Ÿè´£åˆ¶å®šå›½é™…æ ‡å‡†ã€‚</p><p>JavaScript è¢«åˆ›å»ºä»¥åï¼Œç»ç”± Netscape å’Œ Sun Microsystems å…¬å¸æäº¤ç»™æ¬§æ´²è®¡ç®—æœºåˆ¶é€ å•†åä¼šè¿›è¡Œæ ‡å‡†åŒ–ï¼Œè¢«é‡‡çº³çš„ ECMA-262 åˆ«åå« ECMAScriptã€‚</p><p>This press release by Netscape and Sun Microsystems (the maker of Java) might help figure out the name choice, which might include legal and branding issues by Microsoft which was in the committee, according to Wikipedia.</p><p>IE9 ä¹‹åå¾®è½¯çš„æµè§ˆå™¨ä¸­å°±çœ‹ä¸åˆ°å¯¹ JScript è¿™ä¸ªå‘½åçš„å¼•ç”¨äº†ï¼Œå–è€Œä»£ä¹‹éƒ½ç»Ÿç§°ä¸º JavaScriptã€‚</p><p>å› æ­¤ï¼Œæˆªè‡³201xï¼ŒJavaScript æˆä¸ºæœ€æµè¡Œçš„åŸºäº ECMAScript è§„èŒƒå®ç°çš„è¯­è¨€ã€‚</p><h1 id="ecmascript-å½“å‰çš„ç‰ˆæœ¬" tabindex="-1"><a class="header-anchor" href="#ecmascript-å½“å‰çš„ç‰ˆæœ¬" aria-hidden="true">#</a> ECMAScript å½“å‰çš„ç‰ˆæœ¬</h1><p>ç›®å‰çš„æœ€æ–°çš„ ECMAScript ç‰ˆæœ¬æ˜¯ ES2018ã€‚</p><p>äº 2018 å¹´ 6 æœˆå‘å¸ƒã€‚</p><h1 id="tc39-æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#tc39-æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> TC39 æ˜¯ä»€ä¹ˆ</h1><p>TC39ï¼ˆTechnical Committee 39ï¼‰æ˜¯ä¸€ä¸ªæ¨åŠ¨ JavaScript å‘å±•çš„å§”å‘˜ä¼šã€‚</p><p>TC39çš„æˆå‘˜åŒ…æ‹¬å„ä¸ªä¸»æµæµè§ˆå™¨å‚å•†ä»¥åŠä¸šåŠ¡ä¸æµè§ˆå™¨ç´§å¯†ç›¸è¿çš„å…¬å¸ï¼Œå…¶ä¸­åŒ…æ‹¬ Mozillaï¼ŒGoogle ï¼ŒFacebookï¼ŒAppleï¼ŒMicrosoftï¼ŒIntelï¼ŒPayPalï¼ŒSalesForceç­‰ã€‚</p><p>æ¯ä¸ªæ ‡å‡†ç‰ˆæœ¬ææ¡ˆéƒ½å¿…é¡»ç»è¿‡å››ä¸ªä¸åŒçš„é˜¶æ®µï¼Œè¿™é‡Œæœ‰è¯¦ç»†çš„è§£é‡Šã€‚</p><p>ES Versions</p><p>ä»¤æˆ‘è´¹è§£çš„æ˜¯ ES ç‰ˆæœ¬çš„å‘½åä¾æ®æœ‰æ—¶æ ¹æ®è¿­ä»£çš„ç‰ˆæœ¬å·ï¼Œæœ‰æ—¶å´æ ¹æ®å¹´ä»½æ¥è¿›è¡Œå‘½åã€‚è€Œè¿™ä¸ªå‘½åçš„ä¸ç¡®å®šæ€§åˆä½¿å¾—äººä»¬æ›´åŠ å®¹æ˜“æ··æ·† JS/ES è¿™ä¸ªä¸¤ä¸ªæ¦‚å¿µğŸ˜„ã€‚</p><p>åœ¨ ES2015 ä¹‹å‰ï¼ŒECMAScript å„ä¸ªç‰ˆæœ¬çš„å‘½åè§„èŒƒé€šå¸¸ä¸è·Ÿç€æ ‡å‡†çš„ç‰ˆæœ¬æ›´æ–°ä¿æŒä¸€è‡´ã€‚å› æ­¤ï¼Œ2009å¹´ ECMAScript è§„èŒƒæ›´æ–°ä»¥åçš„çš„æ­£å¼ç‰ˆæœ¬æ˜¯ ES5ã€‚</p><p>Why does this happen? During the process that led to ES2015, the name was changed from ES6 to ES2015, but since this was done late, people still referenced it as ES6, and the community has not left the edition naming behindâ€Šâ€”â€Šthe world is still calling ES releases by edition number.</p><p>ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿè¿™ä¸€åˆ‡ï¼Ÿåœ¨ES2015è¯ç”Ÿçš„è¿‡ç¨‹ä¸­ï¼Œåç§°ç”±ES6æ›´æ”¹ä¸ºES2015ï¼Œä½†ç”±äºæœ€ç»ˆå®Œæˆå¤ªæ™šï¼Œäººä»¬ä»ç„¶ç§°å…¶ä¸ºES6ï¼Œç¤¾åŒºä¹Ÿæ²¡æœ‰å°†ç‰ˆæœ¬å·å®Œå…¨æŠ›ä¹‹äºå â€” ä¸–ç•Œä»ç„¶ä½¿ç”¨ ES æ¥å®šä¹‰ç‰ˆæœ¬å·ã€‚</p><h1 id="letå’Œconst" tabindex="-1"><a class="header-anchor" href="#letå’Œconst" aria-hidden="true">#</a> letå’Œconst</h1><p>ES2015 ä¹‹å‰, var æ˜¯å”¯ä¸€å¯ä»¥ç”¨æ¥å£°æ˜å˜é‡çš„è¯­å¥ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¸Šé¢è¯­å¥å¦‚æœä½ é—æ¼äº† varï¼Œé‚£ä¹ˆä½ ä¼šæŠŠè¿™ä¸ªå€¼ï¼ˆ0ï¼‰èµ‹ç»™ä¸€ä¸ªæœªå£°æ˜çš„å˜é‡ï¼Œå…¶ä¸­å£°æ˜å’Œæœªå£°æ˜å˜é‡ä¹‹é—´å­˜åœ¨ä¸€äº›å·®å¼‚ã€‚</p><p>åœ¨ç°ä»£æµè§ˆå™¨å¼€å¯ä¸¥æ ¼æ¨¡å¼æ—¶ï¼Œç»™æœªå£°æ˜çš„å˜é‡èµ‹å€¼ä¼šæŠ›å‡º ReferenceError å¼‚å¸¸ï¼Œåœ¨è¾ƒè€çš„æµè§ˆå™¨ï¼ˆæˆ–è€…ç¦ç”¨ä¸¥æ ¼æ¨¡å¼ï¼‰çš„æƒ…å†µä¸‹ï¼Œæœªå£°æ˜çš„å˜é‡åœ¨æ‰§è¡Œèµ‹å€¼æ“ä½œæ—¶ä¼šéšå¼çš„å˜ä¸ºå…¨å±€å¯¹è±¡çš„å±æ€§ã€‚</p><p>å½“ä½ å£°æ˜ä¸€ä¸ªå˜é‡å´æ²¡æœ‰è¿›è¡Œåˆå§‹åŒ–ï¼Œé‚£ä¹ˆå®ƒçš„å€¼ç›´åˆ°ä½ å¯¹å®ƒè¿›è¡Œèµ‹å€¼æ“ä½œä¹‹å‰éƒ½æ˜¯ undefined ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token comment">//typeof a === &#39;undefined&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä½ å¯ä»¥å¯¹ä¸€ä¸ªå˜é‡è¿›è¡Œå¤šæ¬¡é‡æ–°å£°æ˜ï¼Œå¹¶è¦†ç›–å®ƒï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½ ä¹Ÿå¯ä»¥åœ¨ä¸€æ¡å£°æ˜è¯­å¥ä¸­ä¸€æ¬¡å£°æ˜å¤šä¸ªå˜é‡ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä½œç”¨åŸŸæ˜¯å˜é‡å¯è®¿é—®çš„ä»£ç éƒ¨åˆ†ã€‚</p><p>åœ¨å‡½æ•°ä¹‹å¤–ç”¨ var å£°æ˜çš„ä¼šåˆ†é…ç»™å…¨å±€å¯¹è±¡ï¼Œè¿™ç§å˜é‡å¯ä»¥åœ¨å…¨å±€ä½œç”¨åŸŸä¸­è¢«è®¿é—®åˆ°ã€‚è€Œåœ¨å‡½æ•°å†…éƒ¨å£°æ˜çš„å˜é‡åªèƒ½åœ¨å‡½æ•°å±€éƒ¨ä½œç”¨åŸŸè¢«è®¿é—®åˆ°ï¼Œè¿™ç±»ä¼¼äºå‡½æ•°å‚æ•°ã€‚</p><p>åœ¨å‡½æ•°ä¸­å®šä¹‰çš„å±€éƒ¨å˜é‡åå¦‚ä½•è·Ÿå…¨å±€å˜é‡é‡åï¼Œé‚£ä¹ˆå±€éƒ¨å˜é‡çš„ä¼˜å…ˆçº§æ›´é«˜ï¼Œåœ¨å‡½æ•°å†…æ— æ³•è®¿é—®åˆ°åŒåçš„å…¨å±€å˜é‡ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œvar æ˜¯æ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼ˆæ ‡è¯†ç¬¦æ˜¯ä¸€å¯¹èŠ±æ‹¬å·ï¼‰çš„ï¼Œä½†æ˜¯ var æ˜¯æœ‰å‡½æ•°ä½œç”¨åŸŸçš„ï¼Œæ‰€ä»¥åœ¨æ–°åˆ›å»ºçš„å—çº§ä½œç”¨åŸŸæˆ–è€…æ˜¯å‡½æ•°ä½œç”¨åŸŸé‡Œé¢å£°æ˜å˜é‡ä¼šè¦†ç›–å…¨å±€åŒåå˜é‡ï¼Œå› ä¸º var åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹æ²¡æœ‰åˆ›å»ºæ–°çš„ä½œç”¨åŸŸã€‚</p><p>åœ¨å‡½æ•°å†…éƒ¨ï¼Œå…¶ä¸­å®šä¹‰çš„ä»»ä½•å˜é‡åœ¨æ‰€æœ‰å‡½æ•°ä»£ç ä¸­éƒ½æ˜¯å¯è§çš„ï¼Œå› ä¸ºJavaScriptåœ¨æ‰§è¡Œä»£ç ä¹‹å‰å®é™…ä¸Šå°†æ‰€æœ‰å˜é‡éƒ½ç§»åˆ°äº†é¡¶å±‚ï¼ˆè¢«ç§°ä¸ºæ‚¬æŒ‚çš„ä¸œè¥¿ï¼‰ã€‚ åœ¨å‡½æ•°çš„å†…éƒ¨å®šä¹‰çš„å˜é‡åœ¨æ•´ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­éƒ½æ˜¯å¯è§ï¼ˆå¯è®¿é—®ï¼‰ï¼Œå³ä½¿å˜é‡æ˜¯åœ¨å‡½æ•°ä½“æœ«å°¾è¢«å£°æ˜ï¼Œä½†æ˜¯ä»ç„¶å¯ä»¥å†å‡½æ•°ä½“å¼€å¤´éƒ¨åˆ†è¢«å¼•ç”¨ï¼Œå› ä¸º JavaScriptå­˜åœ¨å˜é‡æå‡æœºåˆ¶ã€‚ä¸ºé¿å…æ··æ·†ï¼Œè¯·åœ¨å‡½æ•°å¼€å¤´å£°æ˜å˜é‡ï¼Œå…»æˆè‰¯å¥½çš„ç¼–ç è§„èŒƒã€‚</p><h2 id="using-let" tabindex="-1"><a class="header-anchor" href="#using-let" aria-hidden="true">#</a> Using let</h2><p>let æ˜¯ES2015ä¸­å¼•å…¥çš„æ–°åŠŸèƒ½ï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯å…·æœ‰å—çº§ä½œç”¨åŸŸçš„ var ã€‚å®ƒå¯ä»¥è¢«å½“å‰ä½œç”¨åŸŸï¼ˆå‡½æ•°ä»¥åŠå—çº§ä½œç”¨åŸŸï¼‰ä»¥åŠå­çº§ä½œç”¨åŸŸè®¿é—®åˆ°ã€‚</p><p>ç°ä»£ JavaScript å¼€å‘è€…åœ¨ let å’Œ var çš„é€‰æ‹©ä¸­å¯èƒ½ä¼šæ›´å€¾å‘äºå‰è€…ã€‚</p><p>å¦‚æœ let çœ‹èµ·æ¥æ˜¯ä¸€ä¸ªå¾ˆæŠ½è±¡çš„æœ¯è¯­ï¼Œå½“ä½ é˜…è¯»åˆ° let color = â€˜redâ€™ è¿™ä¸€æ®µï¼Œå› ä¸ºä½¿ç”¨ let å®šä¹‰äº†color ä¸ºçº¢è‰²ï¼Œé‚£ä¹ˆè¿™ä¸€åˆ‡å°±å˜çš„æœ‰æ„ä¹‰äº†ã€‚</p><p>åœ¨ä»»ä½•å‡½æ•°ä¹‹å¤–ç”¨ let å£°æ˜å˜é‡ï¼Œå’Œ varç›¸åçš„æ˜¯ å®ƒå¹¶ä¸ä¼šåˆ›å»ºå…¨å±€å˜é‡ã€‚</p><h2 id="using-const" tabindex="-1"><a class="header-anchor" href="#using-const" aria-hidden="true">#</a> Using const</h2><p>ä½¿ç”¨å˜é‡ var æˆ– let å£°æ˜çš„å˜é‡å¯ä»¥è¢«é‡æ–°èµ‹å€¼ã€‚ ä½¿ç”¨ const å£°æ˜çš„å˜é‡ä¸€ç»åˆå§‹åŒ–ï¼Œå®ƒçš„å€¼å°±æ°¸è¿œä¸èƒ½å†æ”¹å˜ï¼Œå³ä¸å¯é‡æ–°è¢«èµ‹å€¼ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token string">&#39;test&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æˆ‘ä»¬ä¸èƒ½å†ä¸º a è¿›è¡Œèµ‹å€¼æ“ä½œã€‚ç„¶è€Œï¼Œa å¦‚æœå®ƒæ˜¯ä¸€ä¸ªå…·æœ‰å±æ€§æˆ–è€…æ–¹æ³•çš„å¯¹è±¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ”¹å˜å®ƒçš„å±æ€§æˆ–è€…æ–¹æ³•ã€‚</p><p>const å¹¶ä¸æ„å‘³ç€å…·æœ‰ä¸å¯å˜æ€§ï¼Œåªæ˜¯ä¿è¯ç”¨ const å£°æ˜çš„å˜é‡çš„å¼•ç”¨åœ°å€ä¸è¢«å˜æ›´ã€‚</p><p>ç±»ä¼¼äº letï¼Œconst ä¹Ÿå…·æœ‰å—çº§ä½œç”¨åŸŸã€‚</p><p>ç°ä»£ JavaScript å¼€å‘è€…åœ¨é‡åˆ°ä¸ä¼šè¿›è¡ŒäºŒæ¬¡èµ‹å€¼çš„å˜é‡å£°æ˜æ—¶ï¼Œåº”è¯¥å°½é‡ä½¿ç”¨ constã€‚</p><h1 id="ç®­å¤´å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#ç®­å¤´å‡½æ•°" aria-hidden="true">#</a> ç®­å¤´å‡½æ•°</h1><p>ç®­å¤´å‡½æ•°çš„å¼•å…¥æå¤§çš„æ”¹å˜äº†ä»£ç çš„ä¹¦å†™é£æ ¼å’Œä¸€äº›å·¥ä½œæœºåˆ¶ã€‚</p><p>åœ¨æˆ‘çœ‹æ¥ï¼Œç®­å¤´å‡½æ•°å¾ˆå—å¼€å‘è€…æ¬¢è¿ï¼Œç°åœ¨å¾ˆå°‘åœ¨æ¯”è¾ƒæ–°çš„ä»£ç åº“ä¸­çœ‹åˆ° function å…³é”®å­—äº†ï¼Œè™½ç„¶å®ƒå¹¶æœªè¢«åºŸå¼ƒã€‚</p><p>ç®­å¤´å‡½æ•°çœ‹èµ·æ¥ä¼šæ›´åŠ çš„ç®€æ´ï¼Œå› ä¸ºå®ƒå…è®¸ä½ ä½¿ç”¨æ›´çŸ­çš„è¯­æ³•æ¥ä¹¦å†™å‡½æ•°ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">myFunction</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ°</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">myFunction</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœå‡½æ•°ä½“ä¸­åªåŒ…å«ä¸€æ¡è¯­å¥ï¼Œä½ ç”šè‡³å¯ä»¥çœç•¥å¤§æ‹¬å·å¹¶ç›´æ¥ä¹¦å†™è¿™æ¡è¯­å¥ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">myFunction</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å‚æ•°åœ¨æ‹¬å·ä¸­ä¼ é€’ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">myFunction</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">param1<span class="token punctuation">,</span> param2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">doSomething</span><span class="token punctuation">(</span>param1<span class="token punctuation">,</span> param2<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœè¯¥å‡½æ•°åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆå¯ä»¥çœç•¥æ‰æ‹¬å·ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">myFunction</span> <span class="token operator">=</span> <span class="token parameter">param</span> <span class="token operator">=&gt;</span> <span class="token function">doSomething</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç”±äºè¿™ç§ç®€çŸ­çš„è¯­æ³•ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥æ›´ä¾¿æ·çš„ä½¿ç”¨æ¯”è¾ƒç®€çŸ­çš„å‡½æ•°</p><h2 id="éšå¼è¿”å›" tabindex="-1"><a class="header-anchor" href="#éšå¼è¿”å›" aria-hidden="true">#</a> éšå¼è¿”å›</h2><p>ç®­å¤´å‡½æ•°æ”¯æŒéšå¼è¿”å›ï¼šå¯ä»¥æ­£å¸¸çš„ return ä¸€ä¸ªè¿”å›å€¼ä½†æ˜¯å¯ä»¥ä¸ä½¿ç”¨ return å…³é”®å­—ã€‚</p><p>éšå¼è¿”å›åªåœ¨å‡½æ•°ä½“å†…åªåŒ…å«ä¸€æ¡è¯­å¥çš„æƒ…å†µä¸‹ç”Ÿæ•ˆï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">myFunction</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&#39;test&#39;</span>
<span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//&#39;test&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>éœ€è¦æ³¨æ„çš„ä¸€ç§æƒ…å†µï¼Œå½“è¿”å›ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œè®°å¾—å°†å¤§æ‹¬å·æ‹¬åœ¨æ‹¬å·ä¸­ä»¥é¿å…äº§ç”Ÿæ­§ä¹‰ï¼Œè¯¯å°†å…¶ï¼ˆå¤§æ‹¬å·ï¼‰è§£æä¸ºå‡½æ•°ä½“çš„å¤§æ‹¬å·ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">myFunction</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&#39;test&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//{value: &#39;test&#39;}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç®­å¤´å‡½æ•°ä¸­çš„-this" tabindex="-1"><a class="header-anchor" href="#ç®­å¤´å‡½æ•°ä¸­çš„-this" aria-hidden="true">#</a> ç®­å¤´å‡½æ•°ä¸­çš„ this</h2><p>this å¯èƒ½æ˜¯ä¸€ä¸ªå¾ˆéš¾æŒæ¡çš„æ¦‚å¿µï¼Œå› ä¸ºå®ƒä¼šæ ¹æ®ä¸Šä¸‹æ–‡è€Œè¿›è¡Œå˜åŒ–ï¼Œå¹¶ä¸”ä¼šåœ¨ä¸åŒçš„ JavaScriptçš„æ¨¡å¼ï¼ˆæ˜¯å¦ä¸ºä¸¥æ ¼æ¨¡å¼ï¼‰ä¸‹è¡¨ç°å‡ºå·®å¼‚ã€‚</p><p>ç†è§£ this è¿™ä¸ªæ¦‚å¿µå¯¹äºç®­å¤´å‡½æ•°çš„ä½¿ç”¨å¾ˆé‡è¦ï¼Œå› ä¸ºä¸å¸¸è§„å‡½æ•°ç›¸æ¯”ï¼Œç®­å¤´å‡½æ•°çš„è¡¨ç°éå¸¸ä¸åŒã€‚</p><p>å¯¹è±¡çš„æ–¹æ³•ä¸ºå¸¸è§„å‡½æ•°æ—¶ï¼Œæ–¹æ³•ä¸­çš„thisæŒ‡å‘è¿™ä¸ªå¯¹è±¡ï¼Œå› æ­¤å¯ä»¥è¿™æ ·åšï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> car <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">model</span><span class="token operator">:</span> <span class="token string">&#39;Fiesta&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">manufacturer</span><span class="token operator">:</span> <span class="token string">&#39;Ford&#39;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">fullName</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>manufacturer<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰§è¡Œ car.fullName() ä¼šè¿”å› â€œFord Fiestaâ€ã€‚</p><p>å¦‚æœä¸Šè¿°æ–¹æ³•ä½¿ç”¨æ˜¯æ˜¯ç®­å¤´å‡½æ•°ï¼Œç”±äºç®­å¤´ä¸­çš„ this çš„ä½œç”¨åŸŸç»§æ‰¿è‡ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œç®­å¤´å‡½æ•°è‡ªèº«ä¸ç»‘å®š thisï¼Œå› æ­¤ this çš„å€¼å°†åœ¨è°ƒç”¨å †æ ˆä¸­æŸ¥æ‰¾ï¼Œå› æ­¤åœ¨æ­¤ä»£ç  car.fullName() ä¸­ä¸ä¼šè¿”å›å¸¸è§„å‡½æ•°é‚£æ ·çš„ç»“æœï¼Œå®é™…ä¼šè¿”å›å­—ç¬¦ä¸² â€œundefined undefinedâ€ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> car <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">model</span><span class="token operator">:</span> <span class="token string">&#39;Fiesta&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">manufacturer</span><span class="token operator">:</span> <span class="token string">&#39;Ford&#39;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">fullName</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>manufacturer<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å› æ­¤ï¼Œç®­å¤´å‡½æ•°ä¸é€‚åˆä½œä¸ºå¯¹è±¡æ–¹æ³•ã€‚</p><p>åŒæ ·ï¼Œç®­å¤´å‡½æ•°ä¹Ÿä¸é€‚åˆä½¿ç”¨åœ¨ä½œä¸ºåˆ›å»ºæ„é€ å‡½æ•°ï¼Œå› ä¸ºåœ¨å®ä¾‹åŒ–å¯¹è±¡æ—¶ä¼šæŠ›å‡º TypeErrorã€‚</p><p>æ‰€ä»¥åœ¨ä¸éœ€è¦åŠ¨æ€ä¸Šä¸‹æ–‡æ—¶è¯·ä½¿ç”¨å¸¸è§„å‡½æ•°ã€‚</p><p>å½“ç„¶ï¼Œåœ¨äº‹ä»¶ç›‘å¬å™¨ä¸Šä½¿ç”¨ç®­å¤´å‡½æ•°ä¹Ÿä¼šå­˜åœ¨é—®é¢˜ã€‚å› ä¸º DOM äº‹ä»¶ä¾¦å¬å™¨ä¼šè‡ªåŠ¨å°† this ä¸ç›®æ ‡å…ƒç´ ç»‘å®šï¼Œå¦‚æœè¯¥äº‹ä»¶å¤„ç†ç¨‹åºçš„é€»è¾‘ä¾èµ– thisï¼Œé‚£ä¹ˆéœ€è¦å¸¸è§„å‡½æ•°ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> link <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;#link&#39;</span><span class="token punctuation">)</span>
link<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// this === window</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> link <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;#link&#39;</span><span class="token punctuation">)</span>
link<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// this === link</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="classesç±»" tabindex="-1"><a class="header-anchor" href="#classesç±»" aria-hidden="true">#</a> Classesç±»</h1><p>JavaScript å®ç°ç»§æ‰¿çš„æ–¹å¼æ¯”è¾ƒç½•è§ï¼šåŸå‹ç»§æ‰¿ã€‚åŸå‹ç»§æ‰¿è™½ç„¶åœ¨æˆ‘çœ‹æ¥å¾ˆæ£’ï¼Œä½†ä¸å…¶å®ƒå¤§å¤šæ•°æµè¡Œçš„ç¼–ç¨‹è¯­è¨€çš„ç»§æ‰¿å®ç°æœºåˆ¶ä¸åŒï¼Œåè€…æ˜¯åŸºäºç±»çš„ã€‚</p><p>å› æ­¤ Javaã€Python æˆ–å…¶å®ƒè¯­è¨€çš„å¼€å‘è€…å¾ˆéš¾ç†è§£åŸå‹ç»§æ‰¿çš„æ–¹å¼ï¼Œå› æ­¤ ECMAScript å§”å‘˜ä¼šå†³å®šåœ¨åŸå‹ç»§æ‰¿ä¹‹ä¸Šå®ç° class çš„è¯­æ³•ç³–ï¼Œè¿™æ ·ä¾¿äºè®©å…¶å®ƒåŸºäºç±»å®ç°ç»§æ‰¿çš„è¯­è¨€çš„å¼€å‘è€…æ›´å¥½çš„ç†è§£ JavaScript ä»£ç ã€‚</p><p>æ³¨æ„ï¼šclass å¹¶æ²¡æœ‰å¯¹ JavaScript åº•å±‚åšä¿®æ”¹ï¼Œä½ ä»ç„¶å¯ä»¥ç›´æ¥è®¿é—®å¯¹è±¡åŸå‹ã€‚</p><h2 id="class-å®šä¹‰" tabindex="-1"><a class="header-anchor" href="#class-å®šä¹‰" aria-hidden="true">#</a> class å®šä¹‰</h2><p>å¦‚ä¸‹æ˜¯ä¸€ä¸ª class çš„ä¾‹å­ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>

  <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;Hello, I am &#39;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">&#39;.&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>class å…·æœ‰ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ new ClassIdentifier() æ¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡å®ä¾‹ã€‚</p><p>åˆå§‹åŒ–å¯¹è±¡æ—¶ï¼Œè°ƒç”¨ constructoræ–¹æ³•ï¼Œå¹¶å°†å‚æ•°ä¼ é€’ç»™æ­¤æ–¹æ³•ã€‚</p><p>ç±»å£°æ˜è¯­å¥ä¸­ä¹Ÿå¯ä»¥å¢åŠ ç±»éœ€è¦çš„ä¸€äº›åŸå‹æ–¹æ³•ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ hello æ˜¯ Person ç±»çš„ä¸€ä¸ªåŸå‹æ–¹æ³•ï¼Œå¯ä»¥åœ¨è¿™ä¸ªç±»çš„å¯¹è±¡å®ä¾‹ä¸Šè°ƒç”¨ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> jack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&#39;jack&#39;</span><span class="token punctuation">)</span>

jack<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="class-ç»§æ‰¿" tabindex="-1"><a class="header-anchor" href="#class-ç»§æ‰¿" aria-hidden="true">#</a> Class ç»§æ‰¿</h2><p>ä¸€ä¸ªå­ç±»å¯ä»¥ extend å¦ä¸€ä¸ªç±»ï¼Œé€šè¿‡å­ç±»å®ä¾‹åŒ–å‡ºæ¥çš„å¯¹è±¡å¯ä»¥ç»§æ‰¿è¿™ä¸¤ä¸ªç±»çš„æ‰€æœ‰æ–¹æ³•ã€‚</p><p>å¦‚æœå­ç±»ä¸­çš„æ–¹æ³•ä¸çˆ¶ç±»ä¸­çš„æ–¹æ³•åé‡å¤ï¼Œé‚£ä¹ˆå­ç±»ä¸­çš„åŒåæ–¹æ³•ä¼˜å…ˆçº§æ›´é«˜ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Programmer</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39; I am a programmer.&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> jack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Programmer</span><span class="token punctuation">(</span><span class="token string">&#39;jack&#39;</span><span class="token punctuation">)</span>

jack<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(ä¸Šè¿°ä»£ç ä¼šæ‰“å°å‡ºï¼šâ€œHello, I am jack. I am a programmer.â€)</p><p>ç±»æ²¡æœ‰æ˜¾ç¤ºçš„ç±»å˜é‡å£°æ˜ï¼Œä½†ä½ å¿…é¡»åœ¨åˆå§‹åŒ–æ„é€ å‡½æ•° constructor ä¸­å»åˆå§‹åŒ–ç±»æˆå‘˜å˜é‡ã€‚</p><p>åœ¨å­ç±»ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡è°ƒç”¨super()å¼•ç”¨çˆ¶ç±»ã€‚</p><p>é™æ€æ–¹æ³•</p><p>åœ¨ç±»ä¸­ï¼Œé€šå¸¸ä¼šæŠŠæ–¹æ³•ç›´æ¥æŒ‚è½½åˆ°å®ä¾‹å¯¹è±¡ä¸Šï¼Œç›´æ¥åœ¨å®ä¾‹å¯¹è±¡ä¸Šè°ƒç”¨ã€‚</p><p>è€Œé™æ€æ–¹æ³•åˆ™æ˜¯ç›´æ¥ä½¿ç”¨ç±»åæ¥è°ƒç”¨ï¼Œè€Œä¸æ˜¯é€šè¿‡å¯¹è±¡å®ä¾‹è°ƒç”¨ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token function">genericHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;Hello&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Person<span class="token punctuation">.</span><span class="token function">genericHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Hello</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="ç§æœ‰æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#ç§æœ‰æ–¹æ³•" aria-hidden="true">#</a> ç§æœ‰æ–¹æ³•</h1><p>JavaScript æ²¡æœ‰å†…ç½®çœŸæ­£æ„ä¹‰ä¸Šçš„å—ä¿æŠ¤çš„ç§æœ‰æ–¹æ³•ã€‚</p><p>ç¤¾åŒºæœ‰è§£å†³æ–¹æ³•ï¼Œä½†æˆ‘ä¸ä¼šåœ¨è¿™é‡Œåšè®²è§£ã€‚</p><h1 id="getters-å’Œ-setters" tabindex="-1"><a class="header-anchor" href="#getters-å’Œ-setters" aria-hidden="true">#</a> Getters å’Œ setters</h1><p>ä½ å¯ä»¥é€šè¿‡å¢åŠ æ–¹æ³• å‰ç¼€ get æˆ–è€… set åˆ›å»ºä¸€ä¸ª getter å’Œ setterï¼Œgetter å’Œ setterä¼šåœ¨ä½ å»è·å–ç‰¹å®šå€¼æˆ–è€…ä¿®æ”¹ç‰¹å®šå€¼çš„æ—¶å€™æ‰§è¡Œ get æˆ–è€… setå†…çš„ç›¸å…³æ–¹æ³•ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>

  <span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_name <span class="token operator">=</span> value
  <span class="token punctuation">}</span>

  <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä½ åªæœ‰ getterï¼Œè¯¥å±æ€§æ— æ³•è¢«è®¾ç½®ï¼Œå¹¶ä¸”è®¾ç½®æ­¤å±æ€§çš„æ“ä½œéƒ½ä¼šè¢«å¿½ç•¥ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>

  <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä½ åªæœ‰ä¸€ä¸ª setterï¼Œåˆ™å¯ä»¥æ›´æ”¹è¯¥å€¼ï¼Œä½†ä¸èƒ½ä»å¤–éƒ¨è®¿é—®å®ƒï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>

  <span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_name <span class="token operator">=</span> value
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="é»˜è®¤å‚æ•°" tabindex="-1"><a class="header-anchor" href="#é»˜è®¤å‚æ•°" aria-hidden="true">#</a> é»˜è®¤å‚æ•°</h1><p>å‡½æ•° doSomething æ¥æ”¶ä¸€ä¸ª param1 å‚æ•°ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">doSomething</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">param1</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬å¯ä»¥ç»™ param1 è®¾å®šé»˜è®¤å€¼ï¼Œå¦‚æœåœ¨è°ƒç”¨å‡½æ•°æ—¶æœªä¼ å…¥å‚æ•°ï¼Œé‚£ä¹ˆè¯¥å‚æ•°è‡ªåŠ¨è®¾å®šæœªé»˜è®¤å€¼ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> doSomething <span class="token operator">=</span> <span class="token punctuation">(</span>param1 <span class="token operator">=</span> <span class="token string">&#39;test&#39;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ç„¶ï¼Œè¿™ç§æœºåˆ¶åŒæ ·é€‚ç”¨äºå¤šä¸ªå‚æ•°ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> doSomething <span class="token operator">=</span> <span class="token punctuation">(</span>param1 <span class="token operator">=</span> <span class="token string">&#39;test&#39;</span><span class="token punctuation">,</span> param2 <span class="token operator">=</span> <span class="token string">&#39;test2&#39;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å‡å¦‚ä½ çš„å‡½æ•°æ˜¯ä¸€ä¸ªå…·æœ‰ç‰¹å®šå±æ€§çš„å¯¹è±¡è¯¥æ€ä¹ˆå¤„ç†ï¼Ÿ</p><p>æ›¾å‡ ä½•æ—¶ï¼Œå¦‚æœæˆ‘ä»¬å¿…é¡»è¦å–ä¸€ä¸ªå¯¹è±¡çš„ç‰¹å®šå±æ€§å€¼ï¼Œä¸ºäº†åšå…¼å®¹å¤„ç†ï¼ˆå¯¹è±¡æ ¼å¼ä¸æ­£ç¡®ï¼‰ï¼Œä½ å¿…é¡»åœ¨å‡½æ•°ä¸­æ·»åŠ ä¸€äº›ä»£ç ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">colorize</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> color <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">&#39;color&#39;</span> <span class="token keyword">in</span> options<span class="token punctuation">)</span> <span class="token operator">?</span> options<span class="token punctuation">.</span>color <span class="token operator">:</span><span class="token string">&#39;yellow&#39;</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡è§£æ„ï¼Œä½ å¯ä»¥ç»™ç‰¹å®šå±æ€§æä¾›é»˜è®¤å€¼ï¼Œå¦‚æ­¤å¯ä»¥å¤§å¤§ç®€åŒ–ä»£ç ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> colorize <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> color <span class="token operator">=</span> <span class="token string">&#39;yellow&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœåœ¨è°ƒç”¨ colorize å‡½æ•°æ—¶æ²¡æœ‰ä¼ é€’ä»»ä½•å¯¹è±¡ï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥å¾—åˆ°ä¸€ä¸ªé»˜è®¤å¯¹è±¡ä½œä¸ºå‚æ•°ä»¥ä¾›ä½¿ç”¨ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> spin <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> color <span class="token operator">=</span> <span class="token string">&#39;yellow&#39;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="æ¨¡æ¿å­—ç¬¦ä¸²" tabindex="-1"><a class="header-anchor" href="#æ¨¡æ¿å­—ç¬¦ä¸²" aria-hidden="true">#</a> æ¨¡æ¿å­—ç¬¦ä¸²</h1><p>æ¨¡æ¿å­—ç¬¦ä¸²ä¸åŒäº ES5 ä»¥å‰çš„ç‰ˆæœ¬ï¼Œä½ å¯ä»¥ç”¨æ–°é¢–çš„æ–¹å¼ä½¿ç”¨å­—ç¬¦ä¸²ã€‚</p><p>è¿™ä¸ªè¯­æ³•çœ‹èµ·æ¥éå¸¸ç®€ä¾¿ï¼Œåªéœ€è¦ä½¿ç”¨ä¸€ä¸ªåå¼•å·æ›¿æ¢æ‰å•å¼•å·æˆ–åŒå¼•å·ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> a_string <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">something</span><span class="token template-punctuation string">`</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™ä¸ªç”¨æ³•æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œå› ä¸ºå®ƒæä¾›äº†è®¸å¤šæ™®é€šå­—ç¬¦ä¸²æ‰€æ²¡æœ‰çš„åŠŸèƒ½ï¼Œå¦‚ä¸‹ï¼š</p><p>å®ƒä¸ºå®šä¹‰å¤šè¡Œå­—ç¬¦ä¸²æä¾›äº†ä¸€ä¸ªå¾ˆå¥½çš„è¯­æ³• å®ƒæä¾›äº†ä¸€ç§åœ¨å­—ç¬¦ä¸²ä¸­æ’å…¥å˜é‡å’Œè¡¨è¾¾å¼çš„ç®€å•æ–¹æ³• å®ƒå…è®¸æ‚¨åˆ›å»ºå¸¦æœ‰æ¨¡æ¿æ ‡ç­¾çš„DSL (DSLæ„å‘³ç€é¢†åŸŸç‰¹å®šè¯­è¨€ï¼Œä¾‹å¦‚ï¼šå°±å¦‚åŒåœ¨ React ä¸­ä½¿ç”¨ styled-components å®šä¹‰ä½ ç»„ä»¶çš„ CSS ä¸€æ ·)</p><p>ä¸‹é¢è®©æˆ‘ä»¬æ·±å…¥æ¯ä¸ªåŠŸèƒ½çš„ç»†èŠ‚ã€‚</p><h2 id="å¤šè¡Œå­—ç¬¦ä¸²" tabindex="-1"><a class="header-anchor" href="#å¤šè¡Œå­—ç¬¦ä¸²" aria-hidden="true">#</a> å¤šè¡Œå­—ç¬¦ä¸²</h2><p>åœ¨ ES6 æ ‡å‡†ä¹‹å‰ï¼Œåˆ›å»ºè·¨è¶Šä¸¤è¡Œçš„å­—ç¬¦ä¸²åªèƒ½åœ¨ä¸€è¡Œçš„ç»“å°¾ä½¿ç”¨ â€˜â€™ å­—ç¬¦ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> string <span class="token operator">=</span>
  &#39;first part
second part&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ ·ä½¿å¾—ä½ åˆ›å»ºçš„å­—ç¬¦ä¸²è™½ç„¶è·¨è¶Šäº†ä¸¤æ±‰ï¼Œä½†æ˜¯æ¸²æŸ“æ—¶ä»ç„¶è¡¨ç°æˆä¸€è¡Œï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>first part second part
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>éœ€è¦æ¸²æŸ“ä¸ºå¤šè¡Œçš„è¯ï¼Œéœ€è¦åœ¨ä¸€è¡Œç»“å°¾æ·»åŠ  â€˜ â€™ï¼Œæ¯”å¦‚è¿™æ ·ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> string <span class="token operator">=</span>
  &#39;first line
 
second line&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ–è€…</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> string <span class="token operator">=</span> &#39;first line
<span class="token string">&#39;+ &#39;</span>second line&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¨¡æ¿å­—ç¬¦ä¸²ä½¿å¾—å®šä¹‰å¤šè¡Œå­—ç¬¦ä¸²å˜å¾—æ›´åŠ ç®€ä¾¿ã€‚</p><p>ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²ç”±ä¸€ä¸ªåå¼•å·å¼€å§‹ï¼Œä½ åªéœ€è¦æŒ‰ä¸‹å›è½¦é”®æ¥åˆ›å»ºæ–°çš„ä¸€è¡Œï¼Œä¸éœ€è¦æ’å…¥ç‰¹æ®Šç¬¦å·ï¼Œæœ€ç»ˆçš„æ¸²æŸ“æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> string <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hey
this
string
is awesome!</span><span class="token template-punctuation string">`</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>éœ€è¦ç‰¹åˆ«ç•™æ„ç©ºæ ¼åœ¨è¿™é‡Œæ˜¯æœ‰ç‰¹æ®Šæ„ä¹‰çš„ï¼Œå¦‚æœè¿™æ ·åšçš„è¯ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> string <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">First
                Second</span><span class="token template-punctuation string">`</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>é‚£ä¹ˆå®ƒä¼šåˆ›å»ºå‡ºåƒä¸‹é¢çš„å­—ç¬¦ä¸²ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>First
                Second
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ‰ä¸€ä¸ªç®€å•çš„æ–¹æ³•å¯ä»¥ä¿®å¤è¿™ä¸ªé—®é¢˜ï¼Œåªéœ€è¦å°†ç¬¬ä¸€è¡Œç½®ä¸ºç©ºï¼Œç„¶åæ·»åŠ äº†å³è¾¹çš„ç¿»è¯‘å¥½åè°ƒç”¨ä¸€ä¸ª trim() æ–¹æ³•ï¼Œå°±å¯ä»¥æ¶ˆé™¤ç¬¬ä¸€ä¸ªå­—ç¬¦å‰çš„æ‰€æœ‰ç©ºæ ¼ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> string <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
First
Second</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ’å€¼" tabindex="-1"><a class="header-anchor" href="#æ’å€¼" aria-hidden="true">#</a> æ’å€¼</h2><p>æ¨¡æ¿å­—ç¬¦ä¸²æä¾›äº†æ’å…¥å˜é‡å’Œè¡¨è¾¾å¼çš„ä¾¿æ·æ–¹æ³•</p><p>ä½ åªéœ€è¦ä½¿ç”¨ ${â€¦} è¯­æ³•</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token keyword">var</span> <span class="token operator">=</span> <span class="token string">&#39;test&#39;</span>
<span class="token keyword">const</span> string <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">something </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">var</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token comment">//something test</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ ${} é‡Œé¢ä½ å¯ä»¥åŠ å…¥ä»»ä½•ä¸œè¥¿ï¼Œç”šè‡³æ˜¯è¡¨è¾¾å¼ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> string <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">something </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
<span class="token keyword">const</span> string2 <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">something </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&#39;x&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;y&#39;</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="template-tags" tabindex="-1"><a class="header-anchor" href="#template-tags" aria-hidden="true">#</a> Template tags</h2><p>æ ‡è®°æ¨¡æ¿å¯èƒ½æ˜¯ä¸€ä¸ªå¬èµ·æ¥ä¸å¤ªæœ‰ç”¨çš„åŠŸèƒ½ï¼Œä½†å®ƒå®é™…ä¸Šè¢«è®¸å¤šæµè¡Œçš„åº“ä½¿ç”¨ï¼Œå¦‚ Styled Components ã€Apollo ã€GraphQLå®¢æˆ·ç«¯/æœåŠ¡å™¨åº“ï¼Œå› æ­¤äº†è§£å®ƒçš„å·¥ä½œåŸç†è‡³å…³é‡è¦ã€‚</p><p>åœ¨ Styled Components æ¨¡æ¿æ ‡ç­¾ä¸­ç”¨äºå®šä¹‰CSSå­—ç¬¦ä¸²</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> Button <span class="token operator">=</span> styled<span class="token punctuation">.</span>button`
  font<span class="token operator">-</span>size<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">.</span>5em<span class="token punctuation">;</span>
  background<span class="token operator">-</span>color<span class="token operator">:</span> black<span class="token punctuation">;</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> white<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ Apollo ä¸­ï¼Œæ¨¡æ¿æ ‡ç­¾ç”¨äºå®šä¹‰ GraphQL æŸ¥è¯¢æ¨¡å¼ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> query <span class="token operator">=</span> gql<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  query {
    ...
  }
</span><span class="token template-punctuation string">`</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä¸¤ä¸ªä¾‹å­ä¸­çš„styled.buttonå’Œgqlæ¨¡æ¿æ ‡ç­¾å…¶å®éƒ½æ˜¯å‡½æ•°:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">gql</span><span class="token punctuation">(</span><span class="token parameter">literals<span class="token punctuation">,</span> <span class="token operator">...</span>expressions</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„è®¡ç®—ç»“æœã€‚</p><p>å­—é¢é‡(literals)æ˜¯ä¸€ä¸ªåŒ…å«äº†è¡¨è¾¾å¼æ’å€¼çš„æ¨¡æ¿å­—é¢é‡çš„åºåˆ—ã€‚ è¡¨è¾¾å¼(expressions)åŒ…å«äº†æ‰€æœ‰çš„æ’å€¼ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> string <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">something </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™ä¸ªä¾‹å­é‡Œé¢çš„å­—é¢é‡æ˜¯ç”±2ä¸ªéƒ¨åˆ†ç»„æˆçš„åºåˆ—ã€‚ç¬¬1éƒ¨åˆ†å°±æ˜¯somethingï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªæ’å€¼ä½ç½®(${})ä¹‹å‰çš„å­—ç¬¦ä¸²ï¼Œç¬¬2éƒ¨åˆ†å°±æ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œä»ç¬¬1ä¸ªæ’å€¼ç»“æŸçš„ä½ç½®ç›´åˆ°å­—ç¬¦ä¸²çš„ç»“æŸã€‚</p><p>è¿™ä¸ªä¾‹å­é‡Œé¢çš„è¡¨è¾¾å¼å°±æ˜¯åªåŒ…å«1ä¸ªéƒ¨åˆ†çš„åºåˆ—ï¼Œä¹Ÿå°±æ˜¯6ã€‚</p><p>ä¸¾ä¸€ä¸ªæ›´å¤æ‚çš„ä¾‹å­ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> string <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">something
another </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token string">&#39;x&#39;</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
new line </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
test</span><span class="token template-punctuation string">`</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªä¾‹å­é‡Œé¢çš„å­—é¢é‡çš„åºåˆ—é‡Œé¢ï¼Œç¬¬1ä¸ªéƒ¨åˆ†æ˜¯ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">;</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">something
another </span><span class="token template-punctuation string">`</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¬¬2éƒ¨åˆ†æ˜¯ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">;</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
new line </span><span class="token template-punctuation string">`</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¬¬3éƒ¨åˆ†æ˜¯ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">;</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
test</span><span class="token template-punctuation string">`</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªä¾‹å­é‡Œé¢çš„è¡¨è¾¾å¼åŒ…å«äº†2ä¸ªéƒ¨åˆ†ï¼šxå’Œ6ã€‚</p><p>æ‹¿åˆ°äº†è¿™äº›å€¼çš„å‡½æ•°å°±å¯ä»¥å¯¹å…¶åšä»»æ„å¤„ç†ï¼Œè¿™å°±æ˜¯è¿™ä¸ªç‰¹æ€§çš„å¨åŠ›æ‰€åœ¨ã€‚</p><p>æ¯”å¦‚æœ€ç®€å•çš„å¤„ç†å°±æ˜¯å­—ç¬¦ä¸²æ’å€¼ï¼ŒæŠŠå­—é¢é‡å’Œè¡¨è¾¾å¼æ‹¼æ¥èµ·æ¥ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> interpolated <span class="token operator">=</span> interpolate<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">I paid </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">10</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">â‚¬</span><span class="token template-punctuation string">`</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ’å€¼çš„è¿‡ç¨‹å°±æ˜¯ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">interpolate</span><span class="token punctuation">(</span><span class="token parameter">literals<span class="token punctuation">,</span> <span class="token operator">...</span>expressions</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> string <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>i<span class="token punctuation">,</span> val<span class="token punctuation">]</span> <span class="token keyword">of</span> expressions<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    string <span class="token operator">+=</span> literals<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> val
  <span class="token punctuation">}</span>
  string <span class="token operator">+=</span> literals<span class="token punctuation">[</span>literals<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token keyword">return</span> string
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="è§£æ„èµ‹å€¼" tabindex="-1"><a class="header-anchor" href="#è§£æ„èµ‹å€¼" aria-hidden="true">#</a> è§£æ„èµ‹å€¼</h1><p>ç»™å®šä¸€ä¸ªobjectï¼Œä½ å¯ä»¥æŠ½å–å…¶ä¸­çš„ä¸€äº›å€¼å¹¶ä¸”èµ‹å€¼ç»™å‘½åçš„å˜é‡ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">firstName</span><span class="token operator">:</span> <span class="token string">&#39;Tom&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">lastName</span><span class="token operator">:</span> <span class="token string">&#39;Cruise&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">actor</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">54</span><span class="token punctuation">,</span> <span class="token comment">//made up</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span><span class="token literal-property property">firstName</span><span class="token operator">:</span> name<span class="token punctuation">,</span> age<span class="token punctuation">}</span> <span class="token operator">=</span> person
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>nameå’Œageå°±åŒ…å«äº†å¯¹åº”çš„å€¼ã€‚</p><p>è¿™ä¸ªè¯­æ³•åŒæ ·å¯ä»¥ç”¨åˆ°æ•°ç»„å½“ä¸­ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>first<span class="token punctuation">,</span> second<span class="token punctuation">]</span> <span class="token operator">=</span> a
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸‹é¢è¿™ä¸ªè¯­å¥åˆ›å»ºäº†3ä¸ªæ–°çš„å˜é‡ï¼Œåˆ†åˆ«å–çš„æ˜¯æ•°ç»„açš„ç¬¬0ã€1ã€4ä¸‹æ ‡å¯¹åº”çš„å€¼ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">[</span>first<span class="token punctuation">,</span> second<span class="token punctuation">,</span> <span class="token punctuation">,</span> <span class="token punctuation">,</span> fifth<span class="token punctuation">]</span> <span class="token operator">=</span> a
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="æ›´å¼ºå¤§çš„å¯¹è±¡å­—é¢é‡" tabindex="-1"><a class="header-anchor" href="#æ›´å¼ºå¤§çš„å¯¹è±¡å­—é¢é‡" aria-hidden="true">#</a> æ›´å¼ºå¤§çš„å¯¹è±¡å­—é¢é‡</h2><p>ES2015èµ‹äºˆäº†å¯¹è±¡å­—é¢é‡æ›´å¤§çš„å¨åŠ›ã€‚</p><p>ç®€åŒ–äº†åŒ…å«å˜é‡çš„è¯­æ³• åŸæ¥çš„å†™æ³•ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> something <span class="token operator">=</span> <span class="token string">&#39;y&#39;</span>
<span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">something</span><span class="token operator">:</span> something
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ–°çš„å†™æ³•ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> something <span class="token operator">=</span> <span class="token string">&#39;y&#39;</span>
<span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token punctuation">{</span>
  something
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="åŸå‹" tabindex="-1"><a class="header-anchor" href="#åŸå‹" aria-hidden="true">#</a> åŸå‹</h1><p>åŸå‹å¯ä»¥è¿™æ ·æŒ‡å®šï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> anObject <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">y</span><span class="token operator">:</span><span class="token string">&#39;y&#39;</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">__proto__</span><span class="token operator">:</span> anObject
<span class="token punctuation">}</span>
<span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> anObject <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">y</span><span class="token operator">:</span><span class="token string">&#39;y&#39;</span><span class="token punctuation">,</span> <span class="token function-variable function">test</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&#39;zoo&#39;</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">__proto__</span><span class="token operator">:</span> anObject<span class="token punctuation">,</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;x&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
x<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//zoo</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="åŠ¨æ€å±æ€§" tabindex="-1"><a class="header-anchor" href="#åŠ¨æ€å±æ€§" aria-hidden="true">#</a> åŠ¨æ€å±æ€§</h1><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token string">&#39;a&#39;</span> <span class="token operator">+</span> <span class="token string">&#39;_&#39;</span> <span class="token operator">+</span> <span class="token string">&#39;b&#39;</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">&#39;z&#39;</span>
<span class="token punctuation">}</span>

x<span class="token punctuation">.</span>a_b <span class="token comment">// z</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="for-ofå¾ªç¯" tabindex="-1"><a class="header-anchor" href="#for-ofå¾ªç¯" aria-hidden="true">#</a> For-ofå¾ªç¯</h1><p>2009å¹´çš„ES5å¼•å…¥äº†forEach()å¾ªç¯ã€‚è™½ç„¶å¾ˆå¥½ç”¨ï¼Œä½†æ˜¯å®ƒè·Ÿforå¾ªç¯ä¸€æ ·ï¼Œæ²¡æ³•breakã€‚</p><p>ES2015å¼•å…¥äº†for-of å¾ªç¯ï¼Œå°±æ˜¯åœ¨forEachçš„åŸºç¡€ä¸ŠåŠ ä¸Šäº†breakçš„åŠŸèƒ½ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//iterate over the value</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> v <span class="token keyword">of</span> <span class="token punctuation">[</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;b&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;c&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">//get the index as well, using `entries()`</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>i<span class="token punctuation">,</span> v<span class="token punctuation">]</span> <span class="token keyword">of</span> <span class="token punctuation">[</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;b&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;c&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token comment">//index</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token comment">//value</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç•™æ„ä¸€ä¸‹constçš„ä½¿ç”¨ã€‚è¿™ä¸ªå¾ªç¯åœ¨æ¯æ¬¡è¿­ä»£ä¸­éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ä½œç”¨åŸŸï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨constæ¥ä»£æ›¿letã€‚</p><p>å®ƒè·Ÿforâ€¦inçš„åŒºåˆ«åœ¨äºï¼š</p><ul><li>forâ€¦oféå†å±æ€§å€¼</li><li>forâ€¦inéå†å±æ€§å</li></ul><h1 id="promises" tabindex="-1"><a class="header-anchor" href="#promises" aria-hidden="true">#</a> Promises</h1><p>promiseçš„ä¸€èˆ¬å®šä¹‰ï¼š å®ƒæ˜¯ä¸€ä¸ªä»£ç†ï¼Œé€šè¿‡å®ƒå¯ä»¥æœ€ç»ˆå¾—åˆ°ä¸€ä¸ªå€¼.</p><p>Promiseæ˜¯å¤„ç†å¼‚æ­¥ä»£ç çš„ä¸€ç§æ–¹å¼ï¼Œå¯ä»¥å°‘å†™å¾ˆå¤šå›è°ƒã€‚</p><p>å¼‚æ­¥å‡½æ•°æ˜¯å»ºç«‹åœ¨promise APIä¸Šé¢çš„ï¼Œæ‰€ä»¥ç†è§£Promiseæ˜¯ä¸€ä¸ªåŸºæœ¬çš„è¦æ±‚ã€‚</p><h2 id="promiseçš„åŸç†ç®€è¿°" tabindex="-1"><a class="header-anchor" href="#promiseçš„åŸç†ç®€è¿°" aria-hidden="true">#</a> promiseçš„åŸç†ç®€è¿°</h2><p>ä¸€ä¸ªpromiseè¢«è°ƒç”¨çš„æ—¶å€™ï¼Œé¦–å…ˆå®ƒæ˜¯å¤„äºpendingçŠ¶æ€ã€‚åœ¨promiseå¤„ç†çš„è¿‡ç¨‹ä¸­ï¼Œè°ƒç”¨çš„å‡½æ•°ï¼ˆcallerï¼‰å¯ä»¥ç»§ç»­æ‰§è¡Œï¼Œç›´åˆ°promiseç»™å‡ºåé¦ˆã€‚</p><p>æ­¤æ—¶ï¼Œè°ƒç”¨çš„å‡½æ•°ç­‰å¾…çš„promiseç»“æœè¦ä¹ˆæ˜¯resolvedçŠ¶æ€ï¼Œè¦ä¹ˆæ˜¯rejectedçŠ¶æ€ã€‚ä½†æ˜¯ç”±äºJavaScriptæ˜¯å¼‚æ­¥çš„ï¼Œæ‰€ä»¥promiseå¤„ç†çš„è¿‡ç¨‹ä¸­ï¼Œå‡½æ•°ä¼šç»§ç»­æ‰§è¡Œã€‚</p><h2 id="ä¸ºä»€ä¹ˆjs-apiä½¿ç”¨promises" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆjs-apiä½¿ç”¨promises" aria-hidden="true">#</a> ä¸ºä»€ä¹ˆJS APIä½¿ç”¨promises</h2><p>é™¤äº†ä½ çš„ä»£ç å’Œç¬¬ä¸‰æ–¹åº“çš„ä»£ç ä¹‹å¤–ï¼Œpromiseåœ¨ç”¨åœ¨ç°ä»£çš„Web APIä¸­ï¼Œæ¯”å¦‚ï¼š</p><ul><li>ç”µæ± API</li><li>Fetch API</li><li>Service Workers</li></ul><p>åœ¨ç°ä»£çš„JavaScriptä¸­ï¼Œä¸ä½¿ç”¨promiseæ˜¯ä¸å¤ªå¯èƒ½çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¥æ·±å…¥ç ”ç©¶ä¸‹promiseå§ã€‚</p><h2 id="åˆ›å»ºä¸€ä¸ªpromise" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºä¸€ä¸ªpromise" aria-hidden="true">#</a> åˆ›å»ºä¸€ä¸ªpromise</h2><p>Promise APIæš´éœ²äº†ä¸€ä¸ªPromiseæ„é€ å‡½æ•°ï¼Œå¯ä»¥é€šè¿‡new Promise()æ¥åˆå§‹åŒ–ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> done <span class="token operator">=</span> <span class="token boolean">true</span>

<span class="token keyword">const</span> isItDoneYet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>done<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> workDone <span class="token operator">=</span> <span class="token string">&#39;Here is the thing I built&#39;</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span>workDone<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> why <span class="token operator">=</span> <span class="token string">&#39;Still working on something else&#39;</span>
    <span class="token function">reject</span><span class="token punctuation">(</span>why<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>promiseä¼šæ£€æŸ¥doneè¿™ä¸ªå…¨å±€å˜é‡ï¼Œå¦‚æœä¸ºtrueï¼Œå°±è¿”å›ä¸€ä¸ªresolved promiseï¼Œå¦åˆ™å°±è¿”å›ä¸€ä¸ªrejected promiseã€‚</p><p>é€šè¿‡resolveå’Œrejectï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€ä¸ªè¿”å›å€¼ï¼Œè¿”å›å€¼å¯ä»¥æ˜¯å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡ã€‚</p><h2 id="ä½¿ç”¨ä¸€ä¸ªpromise" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨ä¸€ä¸ªpromise" aria-hidden="true">#</a> ä½¿ç”¨ä¸€ä¸ªpromise</h2><p>ä¸Šé¢è®²äº†æ€ä¹ˆåˆ›å»ºä¸€ä¸ªpromiseï¼Œä¸‹é¢å°±è®²æ€ä¹ˆä½¿ç”¨ï¼ˆconsumeï¼‰è¿™ä¸ªpromiseã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> isItDoneYet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">//...</span>
<span class="token keyword">const</span> <span class="token function-variable function">checkIfItsDone</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  isItDoneYet
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">ok</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ok<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡ŒcheckIfItsDone()æ–¹æ³•æ—¶ï¼Œä¼šæ‰§è¡ŒisItDoneYet()è¿™ä¸ªpromiseï¼Œå¹¶ä¸”ç­‰å¾…å®ƒresolveçš„æ—¶å€™ä½¿ç”¨thenå›è°ƒï¼Œå¦‚æœæœ‰é”™è¯¯ï¼Œå°±ç”¨catchå›è°ƒæ¥å¤„ç†ã€‚</p><h2 id="é“¾å¼promise" tabindex="-1"><a class="header-anchor" href="#é“¾å¼promise" aria-hidden="true">#</a> é“¾å¼promise</h2><p>ä¸€ä¸ªpromiseå¯ä»¥è¿”å›å¦ä¸€ä¸ªpromiseï¼Œä»è€Œåˆ›å»ºpromiseé“¾æ¡ï¼ˆchainï¼‰ã€‚</p><p>ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­å°±æ˜¯Fetch APIï¼Œå®ƒæ˜¯åŸºäºXMLHttpRequest APIçš„ä¸€ä¸ªä¸Šå±‚APIï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥è·å–èµ„æºï¼Œå¹¶ä¸”åœ¨è·å–åˆ°èµ„æºçš„æ—¶å€™é“¾å¼æ‰§è¡Œä¸€ç³»åˆ—promiseã€‚</p><p>Fetch APIæ˜¯ä¸€ä¸ªåŸºäºpromiseçš„æœºåˆ¶ï¼Œè°ƒç”¨fetch()ç›¸å½“äºä½¿ç”¨new Promise()æ¥å£°æ˜æˆ‘ä»¬è‡ªå·±çš„promiseã€‚</p><h2 id="é“¾å¼promiseçš„ä¾‹å­" tabindex="-1"><a class="header-anchor" href="#é“¾å¼promiseçš„ä¾‹å­" aria-hidden="true">#</a> é“¾å¼promiseçš„ä¾‹å­</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">status</span> <span class="token operator">=</span> <span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>status <span class="token operator">&gt;=</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> response<span class="token punctuation">.</span>status <span class="token operator">&lt;</span> <span class="token number">300</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">json</span> <span class="token operator">=</span> <span class="token parameter">response</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;/todo.json&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Request succeeded with JSON response&#39;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Request failed&#39;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­å½“ä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨fetch()ï¼Œä»æ ¹ç›®å½•çš„todo.jsonæ–‡ä»¶ä¸­è·å–ä¸€ç³»åˆ—çš„TODOé¡¹ç›®ï¼Œå¹¶ä¸”åˆ›å»ºä¸€ä¸ªé“¾å¼promiseã€‚</p><p>è¿è¡Œfetch()æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªresponseï¼Œå®ƒåŒ…å«å¾ˆå¤šå±æ€§ï¼Œæˆ‘ä»¬ä»ä¸­å¼•ç”¨å¦‚ä¸‹å±æ€§ï¼š</p><p>status, ä¸€ä¸ªæ•°å€¼ï¼Œè¡¨ç¤ºHTTPçŠ¶æ€ç  statusText, ä¸€ä¸ªçŠ¶æ€æ¶ˆæ¯ï¼Œå½“è¯·æ±‚æˆåŠŸçš„æ—¶å€™è¿”å›OK responseè¿˜æœ‰ä¸€ä¸ªjson()æ–¹æ³•ï¼Œå®ƒè¿”å›ä¸€ä¸ªpromiseï¼Œè¿”å›å†…å®¹è½¬æ¢æˆJSONåçš„ç»“æœã€‚</p><p>æ‰€ä»¥è¿™äº›promiseçš„è°ƒç”¨è¿‡ç¨‹å°±æ˜¯ï¼šç¬¬ä¸€ä¸ªpromiseæ‰§è¡Œä¸€ä¸ªæˆ‘ä»¬å®šä¹‰çš„status()æ–¹æ³•ï¼Œæ£€æŸ¥response statusï¼Œåˆ¤æ–­æ˜¯å¦ä¸€ä¸ªæˆåŠŸçš„å“åº”(statusåœ¨200å’Œ299ä¹‹é—´)ï¼Œå¦‚æœä¸æ˜¯æˆåŠŸçš„å“åº”ï¼Œå°±rejectè¿™ä¸ªpromiseã€‚</p><p>è¿™ä¸ªrejectæ“ä½œä¼šå¯¼è‡´æ•´ä¸ªé“¾å¼promiseè·³è¿‡åé¢çš„æ‰€æœ‰promiseç›´æ¥åˆ°catch()è¯­å¥ï¼Œæ‰“å°Request failedå’Œé”™è¯¯æ¶ˆæ¯ã€‚</p><p>å¦‚æœè¿™ä¸ªpromiseæˆåŠŸäº†ï¼Œå®ƒä¼šè°ƒç”¨æˆ‘ä»¬å®šä¹‰çš„json()å‡½æ•°ã€‚å› ä¸ºå‰é¢çš„promiseæˆåŠŸä¹‹åè¿”å›çš„responseå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥æ‹¿åˆ°å¹¶ä½œä¸ºç¬¬2ä¸ªpromiseçš„å‚æ•°ä¼ å…¥ã€‚</p><p>åœ¨è¿™ä¸ªä¾‹å­é‡Œé¢ï¼Œæˆ‘ä»¬è¿”å›äº†JSONåºåˆ—åŒ–çš„æ•°æ®ï¼Œæ‰€ä»¥ç¬¬3ä¸ªpromiseç›´æ¥æ¥æ”¶è¿™ä¸ªJSONï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Request succeeded with JSON response&#39;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åæˆ‘ä»¬æŠŠå®ƒæ‰“å°åˆ°consoleã€‚</p><h2 id="å¤„ç†é”™è¯¯" tabindex="-1"><a class="header-anchor" href="#å¤„ç†é”™è¯¯" aria-hidden="true">#</a> å¤„ç†é”™è¯¯</h2><p>åœ¨ä¸Šä¸€èŠ‚çš„çš„ä¾‹å­é‡Œé¢ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªcatchæ¥åœ¨é“¾å¼promiseåé¢ã€‚</p><p>å½“promiseé“¾ä¸­çš„ä»»æ„ä¸€ä¸ªå‡ºé”™æˆ–è€…rejectçš„æ—¶å€™ï¼Œå°±ä¼šç›´æ¥è·³åˆ°promiseé“¾åé¢æœ€è¿‘çš„catch()è¯­å¥ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;Error&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// or</span>
<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&#39;Error&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="çº§è”é”™è¯¯" tabindex="-1"><a class="header-anchor" href="#çº§è”é”™è¯¯" aria-hidden="true">#</a> çº§è”é”™è¯¯</h2><p>å¦‚æœåœ¨catch()é‡Œé¢æŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œä½ å¯ä»¥åœ¨åé¢æ¥ä¸Šç¬¬äºŒä¸ªcatch()æ¥å¤„ç†è¿™ä¸ªé”™è¯¯ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;Error&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;Error&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç»„ç»‡å¤šä¸ªpromise" tabindex="-1"><a class="header-anchor" href="#ç»„ç»‡å¤šä¸ªpromise" aria-hidden="true">#</a> ç»„ç»‡å¤šä¸ªpromise</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœä½ è¦åŒæ—¶å®Œæˆä¸åŒçš„promise,å¯ä»¥ç”¨Promise.all()æ¥å£°æ˜ä¸€ç³»åˆ—çš„promiseï¼Œç„¶åå½“å®ƒä»¬å…¨éƒ¨resolveçš„æ—¶å€™å†æ‰§è¡Œä¸€äº›æ“ä½œã€‚</p><p>ä¾‹å­ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> f1 <span class="token operator">=</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;/something.json&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> f2 <span class="token operator">=</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;/something2.json&#39;</span><span class="token punctuation">)</span>

Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>f1<span class="token punctuation">,</span> f2<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Array of results&#39;</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç»“åˆES2015çš„è§£æ„èµ‹å€¼è¯­æ³•ï¼Œä½ å¯ä»¥è¿™æ ·å†™ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>f1<span class="token punctuation">,</span> f2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>res1<span class="token punctuation">,</span> res2<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Results&#39;</span><span class="token punctuation">,</span> res1<span class="token punctuation">,</span> res2<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ç„¶è¿™ä¸é™äºä½¿ç”¨fetchï¼Œ è¿™é€‚ç”¨äºä»»ä½•promise.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Promise.race()è¿è¡Œæ‰€æœ‰ä¼ é€’è¿›å»çš„promiseï¼Œä½†æ˜¯åªè¦æœ‰å…¶ä¸­ä¸€ä¸ªresolveäº†ï¼Œå°±ä¼šè¿è¡Œå›è°ƒå‡½æ•°ï¼Œå¹¶ä¸”åªæ‰§è¡Œä¸€æ¬¡å›è°ƒï¼Œå›è°ƒçš„å‚æ•°å°±æ˜¯ç¬¬ä¸€ä¸ªresolveçš„promiseè¿”å›çš„ç»“æœã€‚</p><p>ä¾‹å­ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> promiseOne <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token string">&#39;one&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> promiseTwo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">&#39;two&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">[</span>promiseOne<span class="token punctuation">,</span> promiseTwo<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token comment">// &#39;two&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#æ¨¡å—" aria-hidden="true">#</a> æ¨¡å—</h1><p>ES Moduleæ˜¯ç”¨äºå¤„ç†æ¨¡å—çš„ECMAScriptæ ‡å‡†ã€‚</p><p>è™½ç„¶ Node.js å¤šå¹´æ¥ä¸€ç›´ä½¿ç”¨ CommonJSæ ‡å‡†ï¼Œä½†æµè§ˆå™¨å´ä»æœªæœ‰è¿‡æ¨¡å—ç³»ç»Ÿï¼Œå› ä¸ºæ¨¡å—ç³»ç»Ÿçš„å†³ç­–é¦–å…ˆéœ€è¦ ECMAScript æ ‡å‡†åŒ–åæ‰ç”±æµè§ˆå™¨å‚å•†å»å®æ–½å®ç°ã€‚</p><p>è¿™ä¸ªæ ‡å‡†åŒ–å·²ç»å®Œæˆåœ¨ ES2015ä¸­ï¼Œæµè§ˆå™¨ä¹Ÿå¼€å§‹å®æ–½å®ç°è¿™ä¸ªæ ‡å‡†ï¼Œå¤§å®¶è¯•å›¾ä¿æŒä¸€è‡´ï¼Œä»¥ç›¸åŒçš„æ–¹å¼å·¥ä½œã€‚ç°åœ¨ ES Module å¯ä»¥åœ¨ Chrome Safari Edge å’Œ Firefoxï¼ˆä»60ç‰ˆæœ¬å¼€å§‹ï¼‰ ä¸­ä½¿ç”¨ã€‚</p><p>æ¨¡å—éå¸¸é…·ï¼Œä»–ä»¬å¯ä»¥è®©ä½ å°è£…å„ç§å„æ ·çš„åŠŸèƒ½ï¼ŒåŒæ—¶å°†è¿™äº›åŠŸèƒ½ä½œä¸ºåº“æš´éœ²ç»™å…¶å®ƒ JavaScript æ–‡ä»¶ä½¿ç”¨ã€‚</p><h2 id="es-æ¨¡å—è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#es-æ¨¡å—è¯­æ³•" aria-hidden="true">#</a> ES æ¨¡å—è¯­æ³•</h2><p>å¼•å…¥æ¨¡å—çš„è¯­æ³•:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token keyword">package</span> <span class="token keyword">from</span> <span class="token string">&#39;module-name&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>CommonJS åˆ™æ˜¯è¿™æ ·ä½¿ç”¨ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token keyword">package</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;module-name&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¸€ä¸ªæ¨¡å—æ˜¯ä¸€ä¸ª JavaScript æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶ä½¿ç”¨ export å…³é”®å­— å¯¼å‡º ä¸€ä¸ªæˆ–å¤šä¸ªå€¼ï¼ˆå¯¹è±¡ã€å‡½æ•°æˆ–è€…å˜é‡ï¼‰ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢è¿™ä¸ªæ¨¡å—æä¾›äº†ä¸€ä¸ªå°†å­—ç¬¦ä¸²å˜æˆå¤§å†™å½¢å¼çš„å‡½æ•°ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>uppercase<span class="token punctuation">.</span>js
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token parameter">str</span> <span class="token operator">=&gt;</span> str<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¿™ä¸ªæ¨¡å—å®šä¹‰äº†å”¯ä¸€ä¸€ä¸ª default exportï¼Œå› æ­¤å¯ä»¥æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ã€‚å¦åˆ™ï¼Œéœ€è¦ä¸€ä¸ªåç§°æ¥å’Œå…¶å®ƒ å¯¼å‡º åšåŒºåˆ†ã€‚</p><p>ç°åœ¨ï¼Œä»»ä½•å…¶å®ƒçš„ JavaScript æ¨¡å— å¯ä»¥é€šè¿‡ import å¯¼å…¥ uppercase.js çš„è¿™ä¸ªåŠŸèƒ½ã€‚</p><p>ä¸€ä¸ª HTML é¡µé¢å¯ä»¥é€šè¿‡ä½¿ç”¨äº†ç‰¹æ®Šçš„ type=module å±æ€§çš„ script æ ‡ç­¾æ·»åŠ ä¸€ä¸ªæ¨¡å—ã€‚</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>module<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ³¨æ„: è¿™ä¸ªæ¨¡å—å¯¼å…¥çš„è¡Œä¸ºå°±åƒ defer è„šæœ¬åŠ è½½ä¸€æ ·ã€‚å…·ä½“å¯ä»¥çœ‹ efficiently load JavaScript with defer and async</p><p>éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œä»»ä½•é€šè¿‡ type=â€moduleâ€ è½½å…¥çš„è„šæœ¬ä¼šä½¿ç”¨ ä¸¥æ ¼æ¨¡å¼ åŠ è½½ã€‚</p><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œuppercase.js æ¨¡å—å®šä¹‰äº†ä¸€ä¸ª default exportï¼Œå› æ­¤å½“æˆ‘ä»¬åœ¨å¯¼å…¥å®ƒçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç»™ä»–èµ·ä¸€ä¸ªä»»ä½•æˆ‘ä»¬å–œæ¬¢çš„åå­—ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> toUpperCase <span class="token keyword">from</span> <span class="token string">&#39;./uppercase.js&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åŒæ—¶æˆ‘ä»¬å¯ä»¥è¿™æ ·ä½¿ç”¨å®ƒ:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token string">&#39;test&#39;</span><span class="token punctuation">)</span> <span class="token comment">//&#39;TEST&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä½ ä¹Ÿå¯ä»¥é€šè¿‡ä¸€ä¸ªç»å¯¹è·¯å¾„æ¥å¯¼å…¥æ¨¡å—ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªå¼•ç”¨æ¥è‡ªå…¶å®ƒåŸŸåº•ä¸‹å®šä¹‰çš„æ¨¡å—çš„ä¾‹å­ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> toUpperCase <span class="token keyword">from</span> <span class="token string">&#39;https://flavio-es-modules-example.glitch.me/uppercase.js&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¸‹é¢åŒæ ·æ˜¯ä¸€äº›åˆæ³•çš„ importè¯­æ³•ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> toUpperCase <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;/uppercase.js&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> toUpperCase <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../uppercase.js&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸‹é¢æ˜¯é”™è¯¯çš„ä½¿ç”¨:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> toUpperCase <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;uppercase.js&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> toUpperCase <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;utils/uppercase.js&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å› ä¸ºè¿™é‡Œæ—¢ä¸æ˜¯ä½¿ç”¨ç»å¯¹åœ°å€ï¼Œä¹Ÿä¸æ˜¯ä½¿ç”¨çš„ç›¸å¯¹åœ°å€ã€‚</p><h2 id="å…¶å®ƒçš„-import-export-è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#å…¶å®ƒçš„-import-export-è¯­æ³•" aria-hidden="true">#</a> å…¶å®ƒçš„ import/export è¯­æ³•</h2><p>æˆ‘ä»¬äº†è§£äº†ä¸Šé¢çš„ä¾‹å­ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token parameter">str</span> <span class="token operator">=&gt;</span> str<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™é‡Œç”Ÿæˆäº†ä¸€ä¸ª default exportã€‚ç„¶è€Œï¼Œä½ å¯ä»¥é€šè¿‡ä¸‹é¢çš„è¯­æ³•åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢ å¯¼å‡º å¤šä¸ªåŠŸèƒ½ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token number">2</span>
<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token number">3</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦å¤–ä¸€ä¸ªæ¨¡å—å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼ import å¯¼å…¥æ‰€æœ‰ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">&#39;module&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä½ ä¹Ÿå¯ä»¥é€šè¿‡è§£æ„èµ‹å€¼çš„æ–¹å¼ä»…ä»… import å¯¼å‡ºä¸€éƒ¨åˆ†ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> a <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;module&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> a<span class="token punctuation">,</span> b <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;module&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸ºäº†æ–¹ä¾¿ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨ as é‡å‘½åä»»ä½• import çš„ä¸œè¥¿ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> a<span class="token punctuation">,</span> b <span class="token keyword">as</span> two <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;module&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä½ å¯ä»¥å¯¼å…¥æ¨¡å—ä¸­çš„é»˜è®¤å‡ºå£ä»¥åŠé€šè¿‡åç§°å¯¼å…¥ä»»ä½•éé»˜è®¤çš„å‡ºå£ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™æ˜¯ä¸€ç¯‡å…³äº ES æ¨¡å—çš„æ–‡ç« ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ï¼š https://glitch.com/edit/#!/flavio-es-modules-example?path=index.html</p><h1 id="cors-è·¨åŸŸèµ„æºå…±äº«" tabindex="-1"><a class="header-anchor" href="#cors-è·¨åŸŸèµ„æºå…±äº«" aria-hidden="true">#</a> CORS(è·¨åŸŸèµ„æºå…±äº«)</h1><p>è¿›è¡Œè¿œç¨‹è·å–æ¨¡å—çš„æ—¶å€™æ˜¯éµå¾ª CORS æœºåˆ¶çš„ã€‚è¿™æ„å‘³ç€å½“ä½ å¼•ç”¨è¿œç¨‹æ¨¡å—çš„æ—¶å€™ï¼Œå¿…é¡»ä½¿ç”¨åˆæ³•çš„ CORS è¯·æ±‚å¤´æ¥å…è®¸è·¨åŸŸè®¿é—®ï¼ˆä¾‹å¦‚ï¼šAccess-Control-Allow-Origin: *ï¼‰ã€‚</p><p>å¯¹äºä¸æ”¯æŒæ¨¡å—çš„æµè§ˆå™¨åº”è¯¥æ€ä¹ˆåšï¼Ÿ</p><p>ç»“åˆ type=â€moduleâ€ã€nomodule ä¸€èµ·ä½¿ç”¨ï¼š</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>module<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>module.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">nomodule</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fallback.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="åŒ…è£…æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#åŒ…è£…æ¨¡å—" aria-hidden="true">#</a> åŒ…è£…æ¨¡å—</h1><p>ES æ¨¡å—æ˜¯ç°ä»£æµè§ˆå™¨ä¸­çš„ä¸€å¤§ç‰¹æ€§ã€‚è¿™äº›ç‰¹æ€§æ˜¯ ES6 è§„èŒƒä¸­çš„ä¸€éƒ¨åˆ†ï¼Œè¦åœ¨æµè§ˆå™¨ä¸­å…¨éƒ¨å®ç°è¿™äº›ç‰¹æ€§çš„è·¯è¿˜å¾ˆæ¼«é•¿ã€‚</p><p>æˆ‘ä»¬ç°åœ¨å°±èƒ½ä½¿ç”¨å®ƒä»¬ï¼ä½†æ˜¯æˆ‘ä»¬åŒæ ·éœ€è¦çŸ¥é“ï¼Œæœ‰ä¸€äº›æ¨¡å—ä¼šå¯¹æˆ‘ä»¬çš„é¡µé¢æ€§èƒ½äº§ç”Ÿæ€§èƒ½å½±å“ã€‚å› ä¸ºæµè§ˆå™¨å¿…é¡»è¦åœ¨è¿è¡Œæ—¶æ‰§è¡Œå®ƒä»¬ã€‚</p><p>Webpack å¯èƒ½ä»ç„¶ä¼šè¢«å¤§é‡ä½¿ç”¨ï¼Œå³ä½¿ ES æ¨¡å—å¯ä»¥åœ¨æµè§ˆå™¨ä¸­æ‰§è¡Œã€‚ä½†æ˜¯è¯­è¨€å†…ç½®è¿™ä¸ªç‰¹æ€§å¯¹äºå®¢æˆ·ç«¯å’Œ nodejs åœ¨ä½¿ç”¨æ¨¡å—çš„æ—¶å€™æ˜¯ä¸€ç§å·¨å¤§çš„ç»Ÿä¸€ã€‚</p><h1 id="æ–°çš„å­—ç¬¦ä¸²æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#æ–°çš„å­—ç¬¦ä¸²æ–¹æ³•" aria-hidden="true">#</a> æ–°çš„å­—ç¬¦ä¸²æ–¹æ³•</h1><p>ä»»ä½•å­—ç¬¦ä¸²æœ‰äº†ä¸€äº›å®ä¾‹æ–¹æ³•ï¼š</p><ul><li>repeat()</li><li>codePointAt()</li></ul><h2 id="repeat" tabindex="-1"><a class="header-anchor" href="#repeat" aria-hidden="true">#</a> repeat()</h2><p>æ ¹æ®æŒ‡å®šçš„æ¬¡æ•°é‡å¤å­—ç¬¦ä¸²ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token string">&#39;Ho&#39;</span><span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">//&#39;HoHoHo&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ²¡æœ‰æä¾›å‚æ•°ä»¥åŠä½¿ç”¨ 0 ä½œä¸ºå‚æ•°çš„æ—¶å€™è¿”å›ç©ºå­—ç¬¦ä¸²ã€‚å¦‚æœç»™ä¸€ä¸ªè´Ÿæ•°å‚æ•°åˆ™ä¼šå¾—åˆ°ä¸€ä¸ª RangeError çš„é”™è¯¯ã€‚</p><h2 id="codepointat" tabindex="-1"><a class="header-anchor" href="#codepointat" aria-hidden="true">#</a> codePointAt()</h2><p>è¿™ä¸ªæ–¹æ³•èƒ½ç”¨åœ¨å¤„ç†é‚£äº›éœ€è¦ 2 ä¸ª UTF-16 å•å…ƒè¡¨ç¤ºçš„å­—ç¬¦ä¸Šã€‚</p><p>ä½¿ç”¨ charCodeAt çš„è¯ï¼Œä½ éœ€è¦å…ˆåˆ†åˆ«å¾—åˆ°ä¸¤ä¸ª UTF-16 çš„ç¼–ç ç„¶åç»“åˆå®ƒä»¬ã€‚ä½†æ˜¯ä½¿ç”¨ codePointAt() ä½ å¯ä»¥ç›´æ¥å¾—åˆ°æ•´ä¸ªå­—ç¬¦ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œä¸­æ–‡çš„ â€œğ ®·â€ æ˜¯ç”±ä¸¤ä¸ª UTF-16 ç¼–ç ç»„åˆè€Œæˆçš„ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token string">&quot;ğ ®·&quot;</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token comment">//d842</span>
<span class="token string">&quot;ğ ®·&quot;</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token comment">//dfb7</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä½ å°†ä¸¤ä¸ª unicode å­—ç¬¦ç»„åˆèµ·æ¥ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token string">&quot;ğ ®·&quot;</span> <span class="token comment">//&quot;ğ ®·&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä½ ä¹Ÿå¯ä»¥ç”¨ codePointAt() å¾—åˆ°åŒæ ·çš„ç»“æœ:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token string">&quot;ğ ®·&quot;</span><span class="token punctuation">.</span><span class="token function">codePointAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">//20bb7</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœä½ å°†å¾—åˆ°çš„ unicode ç¼–ç ç»„åˆèµ·æ¥ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token string">&quot;ğ ®·&quot;</span> <span class="token comment">//&quot;ğ ®·&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ›´å¤šå…³äº Unicode çš„ä½¿ç”¨æ–¹æ³•ï¼Œå‚è€ƒæˆ‘çš„Unicode guideã€‚</p><h1 id="æ–°çš„å¯¹è±¡æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#æ–°çš„å¯¹è±¡æ–¹æ³•" aria-hidden="true">#</a> æ–°çš„å¯¹è±¡æ–¹æ³•</h1><p>ES2015 åœ¨ Object ç±»ä¸‹å¼•å…¥äº†ä¸€äº›é™æ€æ–¹æ³•ï¼š</p><ul><li>Object.is() ç¡®å®šä¸¤ä¸ªå€¼æ˜¯ä¸æ˜¯åŒä¸€ä¸ª</li><li>Object.assign() ç”¨æ¥æµ…æ‹·è´ä¸€ä¸ªå¯¹è±¡</li><li>Object.setPrototypeOf è®¾ç½®ä¸€ä¸ªå¯¹è±¡çš„åŸå‹</li></ul><h2 id="object-is" tabindex="-1"><a class="header-anchor" href="#object-is" aria-hidden="true">#</a> Object.is()</h2><p>è¿™ä¸ªæ–¹æ³•ç”¨æ¥å¸®åŠ©æ¯”è¾ƒå¯¹è±¡çš„å€¼ï¼š</p><p>ä½¿ç”¨æ–¹å¼:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿”å›å€¼åœ¨ä¸‹åˆ—æƒ…å†µä¹‹å¤–ä¸€ç›´æ˜¯ falseï¼š</p><p>a å’Œ b æ˜¯åŒä¸€ä¸ªå¯¹è±¡ a å’Œ b æ˜¯ç›¸ç­‰çš„å­—ç¬¦ä¸²(ç”¨åŒæ ·çš„å­—ç¬¦ç»„åˆåœ¨ä¸€èµ·çš„å­—ç¬¦ä¸²æ˜¯ç›¸ç­‰çš„) a å’Œ b æ˜¯ç›¸ç­‰çš„æ•°å­— a å’Œ b éƒ½æ˜¯ undefined, null, NaN, true æˆ–è€…éƒ½æ˜¯ false 0 å’Œ -0 åœ¨ JavaScript é‡Œé¢æ˜¯ä¸åŒçš„å€¼, æ‰€ä»¥å¯¹è¿™ç§æƒ…å†µè¦å¤šåŠ å°å¿ƒï¼ˆä¾‹å¦‚åœ¨æ¯”è¾ƒä¹‹å‰ï¼Œä½¿ç”¨ + ä¸€å…ƒæ“ä½œç¬¦å°†æ‰€æœ‰å€¼è½¬æ¢æˆ +0ï¼‰ã€‚</p><h2 id="object-assign" tabindex="-1"><a class="header-anchor" href="#object-assign" aria-hidden="true">#</a> Object.assign()</h2><p>åœ¨ ES2015 ç‰ˆæœ¬ä¸­å¼•å…¥ï¼Œè¿™ä¸ªæ–¹æ³•æ‹·è´æ‰€æœ‰ç»™å‡ºçš„å¯¹è±¡ä¸­çš„å¯æšä¸¾çš„è‡ªèº«å±æ€§åˆ°å¦ä¸€ä¸ªå¯¹è±¡ä¸­ã€‚</p><p>è¿™ä¸ª API çš„åŸºæœ¬ç”¨æ³•æ˜¯åˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„æµ…æ‹·è´ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> copied <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> original<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä½œä¸ºæµ…æ‹·è´ï¼Œå€¼ä¼šè¢«å¤åˆ¶ï¼Œå¯¹è±¡åˆ™æ˜¯æ‹·è´å…¶å¼•ç”¨ï¼ˆä¸æ˜¯å¯¹è±¡æœ¬èº«ï¼‰ï¼Œå› æ­¤å½“ä½ ä¿®æ”¹äº†æºå¯¹è±¡çš„ä¸€ä¸ªå±æ€§å€¼ï¼Œè¿™ä¸ªä¿®æ”¹ä¹Ÿä¼šåœ¨æ‹·è´å‡ºçš„å¯¹è±¡ä¸­ç”Ÿæ•ˆï¼Œå› ä¸ºå†…éƒ¨å¼•ç”¨çš„å¯¹è±¡æ˜¯ç›¸åŒçš„ã€‚:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> original <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;Fiesta&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">car</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;blue&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> copied <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> original<span class="token punctuation">)</span>
original<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;Focus&#39;</span>
original<span class="token punctuation">.</span>car<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">&#39;yellow&#39;</span>
copied<span class="token punctuation">.</span>name <span class="token comment">//Fiesta</span>
copied<span class="token punctuation">.</span>car<span class="token punctuation">.</span>color <span class="token comment">//yellow</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä¹‹å‰æåˆ°è¿‡ï¼Œæºå¯¹è±¡å¯ä»¥æ˜¯ä¸€ä¸ªæˆ–è€…å¤šä¸ª:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> wisePerson <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">isWise</span><span class="token operator">:</span><span class="token boolean">true</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> foolishPerson <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">isFoolish</span><span class="token operator">:</span><span class="token boolean">true</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> wiseAndFoolishPerson <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> wisePerson<span class="token punctuation">,</span> foolishPerson<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>wiseAndFoolishPerson<span class="token punctuation">)</span> <span class="token comment">//{ isWise: true, isFoolish: true }</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è®¾ç½®ä¸€ä¸ªå¯¹è±¡çš„åŸå‹ã€‚å¯ä»¥æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šå¯¹è±¡ä»¥åŠåŸå‹ã€‚</p><p>ä½¿ç”¨æ–¹æ³•:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> prototype<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¾‹å­:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> animal <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">isAnimal</span><span class="token operator">:</span><span class="token boolean">true</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> mammal <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">isMammal</span><span class="token operator">:</span><span class="token boolean">true</span>
<span class="token punctuation">}</span>
mammal<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> animal
mammal<span class="token punctuation">.</span>isAnimal <span class="token comment">//true</span>
<span class="token keyword">const</span> dog <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>animal<span class="token punctuation">)</span>
dog<span class="token punctuation">.</span>isAnimal  <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span>isMammal<span class="token punctuation">)</span>  <span class="token comment">//undefined</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>dog<span class="token punctuation">,</span> mammal<span class="token punctuation">)</span>
dog<span class="token punctuation">.</span>isAnimal <span class="token comment">//true</span>
dog<span class="token punctuation">.</span>isMammal <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="å±•å¼€æ“ä½œç¬¦" tabindex="-1"><a class="header-anchor" href="#å±•å¼€æ“ä½œç¬¦" aria-hidden="true">#</a> å±•å¼€æ“ä½œç¬¦</h1><p>ä½ å¯ä»¥å±•å¼€ä¸€ä¸ªæ•°ç»„ã€ä¸€ä¸ªå¯¹è±¡ç”šè‡³æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé€šè¿‡ä½¿ç”¨å±•å¼€æ“ä½œç¬¦ â€¦ã€‚</p><p>è®©æˆ‘ä»¬ä»¥æ•°ç»„æ¥ä¸¾ä¾‹ï¼Œç»™å‡ºï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼åˆ›å»ºå‡ºä¸€ä¸ªæ–°çš„æ•°ç»„ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>a<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä½ ä¹Ÿå¯ä»¥åƒä¸‹é¢è¿™æ ·åˆ›å»ºä¸€ä¸ªæ•°ç»„çš„æ‹·è´ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>a<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™ä¸­æ–¹å¼å¯¹äºå¯¹è±¡ä»ç„¶æœ‰æ•ˆã€‚ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼å…‹éš†ä¸€ä¸ªå¯¹è±¡ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> newObj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>oldObj <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç”¨åœ¨å­—ç¬¦ä¸²ä¸Šçš„æ—¶å€™ï¼Œå±•å¼€æ“ä½œç¬¦ä¼šä»¥å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸€ä¸ªå­—ç¬¦åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> hey <span class="token operator">=</span> <span class="token string">&#39;hey&#39;</span>
<span class="token keyword">const</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>hey<span class="token punctuation">]</span> <span class="token comment">// [&#39;h&#39;, &#39;e&#39;, &#39;y&#39;]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªæ“ä½œç¬¦æœ‰ä¸€äº›éå¸¸æœ‰ç”¨çš„åº”ç”¨ã€‚å…¶ä¸­æœ€é‡è¦çš„ä¸€ç‚¹å°±æ˜¯ä»¥ä¸€ç§éå¸¸ç®€å•çš„æ–¹å¼ä½¿ç”¨æ•°ç»„ä½œä¸ºå‡½æ•°å‚æ•°çš„èƒ½åŠ›ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">foo<span class="token punctuation">,</span> bar</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token operator">...</span>a<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ï¼ˆåœ¨ä¹‹å‰çš„è¯­æ³•è§„èŒƒä¸­ï¼Œä½ åªèƒ½é€šè¿‡ f.apply(null, a) çš„æ–¹å¼æ¥å®ç°ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼ä¸æ˜¯å¾ˆå‹å¥½å’Œæ˜“è¯»ã€‚ï¼‰</p><p>å‰©ä½™å‚æ•°ï¼ˆrest elementï¼‰åœ¨å’Œæ•°ç»„è§£æ„ï¼ˆarray destructuringï¼‰æ­é…ä½¿ç”¨çš„æ—¶å€™éå¸¸æœ‰ç”¨ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span>first<span class="token punctuation">,</span> second<span class="token punctuation">,</span> <span class="token operator">...</span>others<span class="token punctuation">]</span> <span class="token operator">=</span> numbers
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸‹é¢æ˜¯å±•å¼€å…ƒç´  ï¼ˆspread elementsï¼‰:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b <span class="token operator">+</span> c <span class="token operator">+</span> d <span class="token operator">+</span> e
<span class="token keyword">const</span> sum <span class="token operator">=</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token operator">...</span>numbers<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ES2018 å¼•å…¥äº† å‰©ä½™å±æ€§ ï¼ŒåŒæ ·çš„æ“ä½œç¬¦ä½†æ˜¯åªèƒ½ç”¨åœ¨å¯¹è±¡ä¸Šã€‚</p><h1 id="å‰©ä½™å±æ€§-rest-properties" tabindex="-1"><a class="header-anchor" href="#å‰©ä½™å±æ€§-rest-properties" aria-hidden="true">#</a> å‰©ä½™å±æ€§ï¼ˆRest propertiesï¼‰:</h1><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> first<span class="token punctuation">,</span> second<span class="token punctuation">,</span> <span class="token operator">...</span>others <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">first</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token literal-property property">second</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token literal-property property">third</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token literal-property property">fourth</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span>
  <span class="token literal-property property">fifth</span><span class="token operator">:</span><span class="token number">5</span>
<span class="token punctuation">}</span>
first <span class="token comment">// 1</span>
second <span class="token comment">// 2</span>
others <span class="token comment">// { third: 3, fourth: 4, fifth: 5 }</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å±æ€§å±•å¼€ï¼ˆSpread propertiesï¼‰å…è®¸æˆ‘ä»¬ç»“åˆè·Ÿåœ¨ â€¦ æ“ä½œç¬¦ä¹‹åå¯¹è±¡çš„å±æ€§ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token punctuation">{</span> first<span class="token punctuation">,</span> second<span class="token punctuation">,</span> <span class="token operator">...</span>others <span class="token punctuation">}</span>
items <span class="token comment">//{ first: 1, second: 2, third: 3, fourth: 4, fifth: 5 }</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="set" tabindex="-1"><a class="header-anchor" href="#set" aria-hidden="true">#</a> Set</h1><p>ä¸€ä¸ª Set æ•°æ®ç»“æ„å…è®¸æˆ‘ä»¬åœ¨ä¸€ä¸ªå®¹å™¨é‡Œé¢å¢åŠ æ•°æ®ã€‚</p><p>ä¸€ä¸ª Set æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–è€…åŸºç¡€æ•°æ®ç±»å‹ï¼ˆstringsã€numbersæˆ–è€…booleansï¼‰çš„é›†åˆï¼Œä½ å¯ä»¥å°†å®ƒçœ‹ä½œæ˜¯ä¸€ä¸ª Mapï¼Œå…¶ä¸­å€¼ä½œä¸ºæ˜ å°„é”®ï¼Œmap å€¼å§‹ç»ˆä¸º trueã€‚</p><h2 id="åˆå§‹åŒ–ä¸€ä¸ª-set" tabindex="-1"><a class="header-anchor" href="#åˆå§‹åŒ–ä¸€ä¸ª-set" aria-hidden="true">#</a> åˆå§‹åŒ–ä¸€ä¸ª Set</h2><p>Set å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼åˆå§‹åŒ–ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="å‘-set-ä¸­æ·»åŠ ä¸€é¡¹" tabindex="-1"><a class="header-anchor" href="#å‘-set-ä¸­æ·»åŠ ä¸€é¡¹" aria-hidden="true">#</a> å‘ Set ä¸­æ·»åŠ ä¸€é¡¹</h2><p>ä½ å¯ä»¥ä½¿ç”¨ add æ–¹æ³•å‘ Set ä¸­æ·»åŠ é¡¹ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>s<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&#39;one&#39;</span><span class="token punctuation">)</span>
s<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&#39;two&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Set ä»…ä¼šå­˜è´®å”¯ä¸€çš„å…ƒç´ ï¼Œå› æ­¤å¤šæ¬¡è°ƒç”¨ s.add(â€˜oneâ€™) ä¸ä¼šé‡å¤æ·»åŠ æ–°çš„å…ƒç´ ã€‚</p><p>ä½ ä¸å¯ä»¥åŒæ—¶å‘ set ä¸­åŠ å…¥å¤šä¸ªå…ƒç´ ã€‚ä½ éœ€è¦å¤šæ¬¡è°ƒç”¨ add() æ–¹æ³•ã€‚</p><h2 id="æ£€æŸ¥å…ƒç´ æ˜¯å¦åœ¨-set-ä¸­" tabindex="-1"><a class="header-anchor" href="#æ£€æŸ¥å…ƒç´ æ˜¯å¦åœ¨-set-ä¸­" aria-hidden="true">#</a> æ£€æŸ¥å…ƒç´ æ˜¯å¦åœ¨ set ä¸­</h2><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼æ£€æŸ¥å…ƒç´ æ˜¯å¦åœ¨ set ä¸­ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>s<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&#39;one&#39;</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
s<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&#39;three&#39;</span><span class="token punctuation">)</span> <span class="token comment">//false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ä»-set-ä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ " tabindex="-1"><a class="header-anchor" href="#ä»-set-ä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ " aria-hidden="true">#</a> ä» set ä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼š</h2><p>ä½¿ç”¨ delete() æ–¹æ³•ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>s<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">&#39;one&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="ç¡®å®š-set-ä¸­å…ƒç´ çš„æ•°é‡" tabindex="-1"><a class="header-anchor" href="#ç¡®å®š-set-ä¸­å…ƒç´ çš„æ•°é‡" aria-hidden="true">#</a> ç¡®å®š set ä¸­å…ƒç´ çš„æ•°é‡</h2><p>ä½¿ç”¨ size å±æ€§ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>s<span class="token punctuation">.</span>size
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="åˆ é™¤-set-ä¸­çš„å…¨éƒ¨å…ƒç´ " tabindex="-1"><a class="header-anchor" href="#åˆ é™¤-set-ä¸­çš„å…¨éƒ¨å…ƒç´ " aria-hidden="true">#</a> åˆ é™¤ set ä¸­çš„å…¨éƒ¨å…ƒç´ </h2><p>ä½¿ç”¨ clear() æ–¹æ³•ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>s<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="å¯¹-set-è¿›è¡Œè¿­ä»£" tabindex="-1"><a class="header-anchor" href="#å¯¹-set-è¿›è¡Œè¿­ä»£" aria-hidden="true">#</a> å¯¹ set è¿›è¡Œè¿­ä»£</h2><p>ä½¿ç”¨ keys() æˆ–è€… values() æ–¹æ³• - å®ƒä»¬ç­‰ä»·äºä¸‹é¢çš„ä»£ç ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> k <span class="token keyword">of</span> s<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> k <span class="token keyword">of</span> s<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>entries() æ–¹æ³•è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œä½ å¯ä»¥è¿™æ ·ä½¿ç”¨å®ƒï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> i <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è°ƒç”¨ i.next() å°†ä¼šä»¥ { value, done = false } å¯¹è±¡çš„å½¢å¼è¿”å›æ¯ä¸€ä¸ªå…ƒç´ ï¼Œç›´åˆ°è¿­ä»£ç»“æŸï¼Œè¿™æ—¶ done æ˜¯ trueã€‚</p><p>ä½ ä¹Ÿå¯ä»¥è°ƒç”¨ set çš„ forEach() æ–¹æ³•ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>s<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æˆ–è€…ä½ å°±ç›´æ¥ä½¿ç”¨ for..of å¾ªç¯å§ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> k <span class="token keyword">of</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨ä¸€äº›åˆå§‹å€¼åˆå§‹åŒ–ä¸€ä¸ª set</p><p>ä½ å¯ä»¥ä½¿ç”¨ä¸€äº›å€¼åˆå§‹åŒ–ä¸€ä¸ª setï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="å°†-set-è½¬æ¢ä¸ºä¸€ä¸ªæ•°ç»„" tabindex="-1"><a class="header-anchor" href="#å°†-set-è½¬æ¢ä¸ºä¸€ä¸ªæ•°ç»„" aria-hidden="true">#</a> å°† set è½¬æ¢ä¸ºä¸€ä¸ªæ•°ç»„</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>s<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token comment">// or</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>s<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="weakset" tabindex="-1"><a class="header-anchor" href="#weakset" aria-hidden="true">#</a> WeakSet</h2><p>ä¸€ä¸ª WeakSet æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ Set.</p><p>åœ¨ set ä¸­ï¼Œå…ƒç´ ä¸ä¼šè¢« gcï¼ˆåƒåœ¾å›æ”¶ï¼‰ã€‚ä¸€ä¸ª weakSet è®©å®ƒçš„æ‰€æœ‰å…ƒç´ éƒ½æ˜¯å¯ä»¥è¢« gc çš„ã€‚weakSet ä¸­çš„æ¯ä¸ªé”®éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚å½“è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨æ¶ˆå¤±çš„æ—¶å€™ï¼Œå¯¹åº”çš„å€¼å°±å¯ä»¥è¢« gc äº†ã€‚</p><p>ä¸‹é¢æ˜¯ä¸»è¦çš„ä¸åŒç‚¹ï¼š</p><h3 id="weakset-ä¸å¯è¿­ä»£" tabindex="-1"><a class="header-anchor" href="#weakset-ä¸å¯è¿­ä»£" aria-hidden="true">#</a> WeakSet ä¸å¯è¿­ä»£</h3><p>ä½ ä¸èƒ½æ¸…ç©º weakSet ä¸­çš„æ‰€æœ‰å…ƒç´  ä¸èƒ½å¤Ÿå¾—åˆ° weakSet çš„å¤§å°</p><p>ä¸€ä¸ª weakSet é€šå¸¸æ˜¯åœ¨æ¡†æ¶çº§åˆ«çš„ä»£ç ä¸­ä½¿ç”¨ï¼Œä»…ä»…æš´éœ²äº†ä¸‹é¢çš„æ–¹æ³•ï¼š</p><ul><li>add()</li><li>has()</li><li>delete()</li></ul><h1 id="map" tabindex="-1"><a class="header-anchor" href="#map" aria-hidden="true">#</a> Map</h1><p>ä¸€ä»½mapç»“æ„çš„æ•°æ®å…è®¸æˆ‘ä»¬å»ºç«‹æ•°æ®å’Œkeyçš„å…³ç³»</p><h2 id="åœ¨es6ä¹‹å‰" tabindex="-1"><a class="header-anchor" href="#åœ¨es6ä¹‹å‰" aria-hidden="true">#</a> åœ¨ES6ä¹‹å‰</h2><p>åœ¨å¼•å…¥Mapä¹‹å‰ï¼Œå¼€å‘è€…é€šå¸¸æŠŠå¯¹è±¡(Object)å½“Mapä½¿ç”¨ï¼ŒæŠŠæŸä¸ªobjectæˆ–valueå€¼ä¸æŒ‡å®šçš„keyè¿›è¡Œå…³è”:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> car <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
car<span class="token punctuation">[</span><span class="token string">&#39;color&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;red&#39;</span>
car<span class="token punctuation">.</span>owner <span class="token operator">=</span> <span class="token string">&#39;jack&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>car<span class="token punctuation">[</span><span class="token string">&#39;color&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//red</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>car<span class="token punctuation">.</span>color<span class="token punctuation">)</span> <span class="token comment">//red</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>car<span class="token punctuation">.</span>owner<span class="token punctuation">)</span> <span class="token comment">//jack</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>car<span class="token punctuation">[</span><span class="token string">&#39;owner&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//jack</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å¼•å…¥mapä¹‹å" tabindex="-1"><a class="header-anchor" href="#å¼•å…¥mapä¹‹å" aria-hidden="true">#</a> å¼•å…¥Mapä¹‹å</h2><p>ES6å¼•å…¥äº†Mapæ•°æ®ç»“æ„ï¼Œå®ƒä¸ºæˆ‘ä»¬å¤„ç†è¿™ç§æ•°æ®ç»“æ„æä¾›äº†ä¸€ç§åˆé€‚çš„å·¥å…·</p><h3 id="mapçš„åˆå§‹åŒ–" tabindex="-1"><a class="header-anchor" href="#mapçš„åˆå§‹åŒ–" aria-hidden="true">#</a> Mapçš„åˆå§‹åŒ–:</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="æ·»åŠ æ¡ç›®åˆ°mapä¸­" tabindex="-1"><a class="header-anchor" href="#æ·»åŠ æ¡ç›®åˆ°mapä¸­" aria-hidden="true">#</a> æ·»åŠ æ¡ç›®åˆ°Mapä¸­</h3><p>ä½ å¯ä»¥é€šè¿‡set()æ–¹æ³•æŠŠæ¡ç›®è®¾å®šåˆ°mapä¸­ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;color&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;red&#39;</span><span class="token punctuation">)</span>
m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;age&#39;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="é€šè¿‡keyå€¼ä»mapä¸­è·å–æ¡ç›®" tabindex="-1"><a class="header-anchor" href="#é€šè¿‡keyå€¼ä»mapä¸­è·å–æ¡ç›®" aria-hidden="true">#</a> é€šè¿‡keyå€¼ä»mapä¸­è·å–æ¡ç›®</h3><p>ä½ å¯ä»¥é€šè¿‡get()æ–¹æ³•ä»mapä¸­å–å‡ºæ¡ç›®:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> color <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;color&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> age <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;age&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="é€šè¿‡keyå€¼ä»mapä¸­åˆ é™¤æ¡ç›®" tabindex="-1"><a class="header-anchor" href="#é€šè¿‡keyå€¼ä»mapä¸­åˆ é™¤æ¡ç›®" aria-hidden="true">#</a> é€šè¿‡keyå€¼ä»mapä¸­åˆ é™¤æ¡ç›®</h3><p>ä½¿ç”¨delete()æ–¹æ³•ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>m<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">&#39;color&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="ä»mapä¸­åˆ é™¤æ‰€æœ‰æ¡ç›®" tabindex="-1"><a class="header-anchor" href="#ä»mapä¸­åˆ é™¤æ‰€æœ‰æ¡ç›®" aria-hidden="true">#</a> ä»mapä¸­åˆ é™¤æ‰€æœ‰æ¡ç›®</h3><p>ä½¿ç”¨clear()æ–¹æ³•ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>m<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="é€šè¿‡keyå€¼æ£€æŸ¥mapä¸­æ˜¯å¦å«æœ‰æŸä¸ªæ¡ç›®" tabindex="-1"><a class="header-anchor" href="#é€šè¿‡keyå€¼æ£€æŸ¥mapä¸­æ˜¯å¦å«æœ‰æŸä¸ªæ¡ç›®" aria-hidden="true">#</a> é€šè¿‡keyå€¼æ£€æŸ¥mapä¸­æ˜¯å¦å«æœ‰æŸä¸ªæ¡ç›®</h3><p>ä½¿ç”¨has()æ–¹æ³•</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> hasColor <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&#39;color&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="è·å–mapä¸­çš„æ¡ç›®æ•°é‡" tabindex="-1"><a class="header-anchor" href="#è·å–mapä¸­çš„æ¡ç›®æ•°é‡" aria-hidden="true">#</a> è·å–mapä¸­çš„æ¡ç›®æ•°é‡</h3><p>ä½¿ç”¨ size å±æ€§:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> size <span class="token operator">=</span> m<span class="token punctuation">.</span>size
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="ç”¨valueå€¼åˆå§‹åŒ–ä¸€ä¸ªmap" tabindex="-1"><a class="header-anchor" href="#ç”¨valueå€¼åˆå§‹åŒ–ä¸€ä¸ªmap" aria-hidden="true">#</a> ç”¨valueå€¼åˆå§‹åŒ–ä¸€ä¸ªmap</h3><p>ä½ å¯ä»¥ç”¨ä¸€ç»„valueæ¥åˆå§‹åŒ–ä¸€ä¸ªmapï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#39;color&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;red&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;owner&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;jack&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;age&#39;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="map-çš„keyå€¼" tabindex="-1"><a class="header-anchor" href="#map-çš„keyå€¼" aria-hidden="true">#</a> Map çš„keyå€¼</h3><p>ä»»ä½•å€¼(å¯¹è±¡ï¼Œæ•°ç»„ï¼Œå­—ç¬¦ä¸²ï¼Œæ•°å­—)éƒ½å¯ä»¥ä½œä¸ºä¸€ä¸ªmapçš„valueå€¼(ä½¿ç”¨key-valueé”®å€¼çš„å½¢å¼)ï¼Œä»»ä½•å€¼ä¹Ÿå¯ä»¥ç”¨ä½œkeyï¼Œå³ä½¿æ˜¯objectå¯¹è±¡ã€‚</p><p>å¦‚æœä½ æƒ³é€šè¿‡get()æ–¹æ³•ä»mapä¸­è·å–ä¸å­˜åœ¨çš„keyï¼Œå®ƒå°†ä¼šè¿”å›undefined</p><p>åœ¨çœŸå®ä¸–ç•Œä¸­ä½ å‡ ä¹ä¸å¯èƒ½æ‰¾åˆ°çš„è¯¡å¼‚æƒ…å†µ</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token string">&#39;test&#39;</span><span class="token punctuation">)</span>
m<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">//test</span>
<span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&#39;test&#39;</span><span class="token punctuation">)</span>
m<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">//test</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä½¿ç”¨iterateè¿­ä»£å™¨è·å–mapçš„keyså€¼" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨iterateè¿­ä»£å™¨è·å–mapçš„keyså€¼" aria-hidden="true">#</a> ä½¿ç”¨Iterateè¿­ä»£å™¨è·å–mapçš„keyså€¼</h3><p>Mapæä¾›äº†keys()æ–¹æ³•ï¼Œé€šè¿‡è¯¥æ–¹æ³•æˆ‘ä»¬å¯ä»¥è¿­ä»£å‡ºæ‰€æœ‰çš„keyå€¼:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> k <span class="token keyword">of</span> m<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä½¿ç”¨iterateè¿­ä»£å™¨è·å–mapçš„valueså€¼" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨iterateè¿­ä»£å™¨è·å–mapçš„valueså€¼" aria-hidden="true">#</a> ä½¿ç”¨Iterateè¿­ä»£å™¨è·å–mapçš„valueså€¼</h3><p>Mapæä¾›äº†values()æ–¹æ³•ï¼Œé€šè¿‡è¯¥æ–¹æ³•æˆ‘ä»¬å¯ä»¥è¿­ä»£å‡ºæ‰€æœ‰çš„valueå€¼:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> v <span class="token keyword">of</span> m<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨Iterateè¿­ä»£å™¨è·å–key-valueç»„æˆçš„é”®å€¼å¯¹</p><p>Mapæä¾›äº†entries()æ–¹æ³•ï¼Œé€šè¿‡è¯¥æ–¹æ³•æˆ‘ä»¬å¯ä»¥è¿­ä»£å‡ºæ‰€æœ‰çš„é”®å€¼å¯¹:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span> <span class="token keyword">of</span> m<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨æ–¹æ³•è¿˜å¯ä»¥ç®€åŒ–ä¸ºï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span> <span class="token keyword">of</span> m<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å°†mapçš„keyså€¼è½¬æ¢ä¸ºæ•°ç»„</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>m<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å°†mapçš„valueså€¼è½¬æ¢ä¸ºæ•°ç»„</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>m<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="weakmap" tabindex="-1"><a class="header-anchor" href="#weakmap" aria-hidden="true">#</a> WeakMap</h2><p>WeakMapæ˜¯ä¸€ç§ç‰¹æ®Šçš„Map</p><p>åœ¨ä¸€ä¸ªmapå¯¹è±¡ä¸­ï¼Œå®šä¹‰åœ¨å…¶ä¸Šæ•°æ®æ°¸è¿œä¸ä¼šè¢«åƒåœ¾å›æ”¶ï¼ŒWeakMapæ›¿è€Œä»£ä¹‹çš„æ˜¯å®ƒå…è®¸åœ¨å®ƒä¸Šé¢å®šä¹‰çš„æ•°æ®å¯ä»¥è‡ªç”±çš„è¢«åƒåœ¾å›æ”¶èµ°ï¼ŒWeakMapçš„æ¯ä¸€ä¸ªkeyéƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå½“æŒ‡å‘è¯¥å¯¹è±¡çš„æŒ‡é’ˆä¸¢å¤±ï¼Œä¸ä¹‹å¯¹åº”çš„valueå°±ä¼šè¢«åƒåœ¾å›æ”¶èµ°ã€‚</p><p>è¿™æ˜¯WeakMapçš„ä¸»è¦ä¸åŒå¤„ï¼š</p><ul><li>ä½ ä¸å¯ä»¥åœ¨WeakMapä¸Šè¿­ä»£keyså€¼å’Œvalueså€¼(æˆ–è€…key-valueé”®å€¼å¯¹)</li><li>ä½ ä¸å¯ä»¥ä»WeakMapä¸Šæ¸…é™¤æ‰€æœ‰æ¡ç›®</li><li>ä½ ä¸å¯ä»¥è·å–WeakMapçš„å¤§å°</li></ul><p>WeakMapæä¾›äº†å¦‚ä¸‹å‡ ç§æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•çš„ä½¿ç”¨å’Œåœ¨Mapä¸­ä¸€æ ·ï¼š</p><ul><li>get(k)</li><li>set(k, v)</li><li>has(k)</li><li>delete(k)</li></ul><p>å…³äºWeakMapçš„ç”¨ä¾‹ä¸å¦‚Mapçš„ç”¨ä¾‹é‚£ä¹ˆæ˜æ˜¾ï¼Œä½ å¯èƒ½æ°¸è¿œä¹Ÿä¸ä¼šåœ¨å“ªé‡Œä¼šç”¨åˆ°å®ƒï¼Œä½†ä»å®é™…å‡ºå‘ï¼ŒWeakMapå¯ä»¥æ„å»ºä¸ä¼šå¹²æ‰°åˆ°åƒåœ¾å›æ”¶æœºåˆ¶çš„å†…å­˜æ•æ„Ÿæ€§ç¼“å­˜ï¼Œè¿˜å¯ä»¥æ»¡è¶³å°è£…çš„ä¸¥è°¨æ€§åŠä¿¡æ¯çš„éšè—æ€§éœ€æ±‚ã€‚</p><h1 id="generatorsç”Ÿæˆå™¨" tabindex="-1"><a class="header-anchor" href="#generatorsç”Ÿæˆå™¨" aria-hidden="true">#</a> Generatorsç”Ÿæˆå™¨</h1><p>Generatorsæ˜¯ä¸€ç§ç‰¹æ®Šçš„å‡½æ•°ï¼Œå®ƒèƒ½å¤Ÿæš‚åœè‡ªèº«çš„æ‰§è¡Œå¹¶åœ¨ä¸€æ®µæ—¶é—´åå†ç»§ç»­è¿è¡Œï¼Œä»è€Œå…è®¸å…¶å®ƒçš„ä»£ç åœ¨æ­¤æœŸé—´è¿è¡Œ(æœ‰å…³è¯¥ä¸»é¢˜çš„è¯¦ç»†è¯´æ˜ï¼Œè¯·å‚é˜…å®Œæ•´çš„â€œjavascriptç”Ÿæˆå™¨æŒ‡å—â€)ã€‚</p><p>Generatorsçš„ä»£ç å†³å®šå®ƒå¿…é¡»ç­‰å¾…ï¼Œå› æ­¤å®ƒå…è®¸é˜Ÿåˆ—ä¸­çš„å…¶å®ƒä»£ç è¿è¡Œï¼Œå¹¶ä¿ç•™â€œå½“å®ƒç­‰å¾…çš„äº‹æƒ…â€å®Œæˆæ—¶æ¢å¤å…¶æ“ä½œçš„æƒåŠ›ã€‚</p><p>æ‰€æœ‰è¿™ä¸€åˆ‡éƒ½æ˜¯é€šè¿‡ä¸€ä¸ªç®€å•çš„å…³é”®å­—â€œyield`â€å®Œæˆçš„ã€‚å½“ç”Ÿæˆå™¨åŒ…å«è¯¥å…³é”®å­—æ—¶ï¼Œå°†åœæ­¢æ‰§è¡Œã€‚</p><p>generatorç”Ÿæˆå™¨å¯ä»¥åŒ…å«è®¸å¤šyieldå…³é”®å­—ï¼Œä»è€Œä½¿è‡ªå·±èƒ½å¤šæ¬¡åœæ­¢è¿è¡Œï¼Œå®ƒæ˜¯ç”±*functionå…³é”®å­—æ ‡è¯†(ä¸è¦å°†å…¶ä¸Cã€C++æˆ–Goç­‰ä½çº§è¯­è¨€ä¸­ä½¿ç”¨çš„å–æ¶ˆæŒ‡é’ˆå¼•ç”¨æ“ä½œç¬¦æ··æ·†)ã€‚</p><p>Generatorsæ”¯æŒJavaScriptä¸­å…¨æ–°çš„ç¼–ç¨‹èŒƒå¼ï¼ŒåŒ…æ‹¬ï¼š</p><p>åœ¨generatorè¿è¡Œæ—¶æ”¯æŒåŒå‘é€šä¿¡ ä¸ä¼šâ€œå†»ç»“â€é•¿æœŸè¿è¡Œåœ¨ç¨‹åºä¸­çš„whileå¾ªç¯</p><p>è¿™é‡Œæœ‰ä¸€ä¸ªè§£é‡Šgeneratorå¦‚ä½•å·¥ä½œçš„ä¾‹å­ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">calculator</span><span class="token punctuation">(</span><span class="token parameter">input</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> doubleThat <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token keyword">yield</span> <span class="token punctuation">(</span>input <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> another <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token punctuation">(</span>doubleThat<span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>input <span class="token operator">*</span> doubleThat <span class="token operator">*</span> another<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬å…ˆåˆå§‹åŒ–å®ƒï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> calc <span class="token operator">=</span> <span class="token function">calculator</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç„¶åæˆ‘ä»¬åœ¨generatorä¸­å¼€å§‹è¿›è¡Œiteratorè¿­ä»£ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>calc<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç¬¬ä¸€ä¸ªè¿­ä»£å™¨å¼€å§‹äº†è¿­ä»£ï¼Œä»£ç è¿”å›å¦‚ä¸‹objectå¯¹è±¡ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">done</span><span class="token operator">:</span><span class="token boolean">false</span>
  <span class="token literal-property property">value</span><span class="token operator">:</span><span class="token number">5</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼šä»£ç è¿è¡Œäº†å‡½æ•°ï¼Œå¹¶æŠŠinput=10ä¼ å…¥åˆ°ç”Ÿæˆå™¨æ„é€ å‡½æ•°ä¸­ï¼Œè¯¥å‡½æ•°ä¸€ç›´è¿è¡Œç›´åˆ°æŠµè¾¾yieldï¼Œå¹¶è¿”å›yieldè¾“å‡ºçš„å†…å®¹: input / 2 = 5ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¾—åˆ°çš„å€¼ä¸º5ï¼Œå¹¶å‘ŠçŸ¥è¿­ä»£å™¨è¿˜æ²¡æœ‰done(å‡½æ•°åªæ˜¯æš‚åœäº†)ã€‚</p><p>åœ¨ç¬¬äºŒä¸ªè¿­ä»£å¤„ï¼Œæˆ‘ä»¬è¾“å…¥7ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>calc<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç„¶åæˆ‘ä»¬å¾—åˆ°äº†ç»“æœï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">done</span><span class="token operator">:</span><span class="token boolean">false</span>
  <span class="token literal-property property">value</span><span class="token operator">:</span><span class="token number">14</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>7è¢«ä½œä¸ºdoubleThatçš„å€¼ï¼Œæ³¨æ„ï¼šä½ å¯èƒ½ä¼šæŠŠinput/2ä½œä¸ºè¾“å…¥å‚æ•°ï¼Œä½†è¿™åªæ˜¯ç¬¬ä¸€æ¬¡è¿­ä»£çš„è¿”å›å€¼ã€‚ç°åœ¨æˆ‘ä»¬å¿½ç•¥å®ƒï¼Œä½¿ç”¨æ–°çš„è¾“å…¥å€¼7ï¼Œå¹¶å°†å…¶ä¹˜ä»¥2.</p><p>ç„¶åï¼Œæˆ‘ä»¬å¾—åˆ°ç¬¬äºŒä¸ªyieldçš„å€¼ï¼Œå®ƒè¿”å›doubleThatï¼Œå› æ­¤è¿”å›å€¼ä¸º14ã€‚</p><p>åœ¨ä¸‹ä¸€ä¸ªï¼Œä¹Ÿæ˜¯æœ€åä¸€ä¸ªè¿­ä»£å™¨ï¼Œæˆ‘ä»¬è¾“å…¥100</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>calc<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™æ ·æˆ‘ä»¬å¾—åˆ°:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">14000</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“è¿­ä»£å™¨å®Œæˆæ—¶(æ²¡æœ‰æ›´å¤šçš„yieldå…³é”®å­—)ï¼Œæˆ‘ä»¬è¿”å›input doubleThat anotherï¼Œè¿™ç›¸å½“äº10 14100ã€‚</p><p>è¿™äº›éƒ½æ˜¯åœ¨2015å¹´çš„ES2015å¼•å…¥çš„ç‰¹æ€§ï¼Œç°åœ¨æˆ‘ä»¬æ·±å…¥äº†è§£ä¸‹ES2016ï¼Œå®ƒçš„ä½œç”¨åŸŸèŒƒå›´æ›´å°ã€‚</p><h1 id="array-prototype-includes" tabindex="-1"><a class="header-anchor" href="#array-prototype-includes" aria-hidden="true">#</a> Array.prototype.includes()</h1><p>è¯¥ç‰¹æ€§å¼•å…¥äº†ä¸€ç§æ›´ç®€æ´çš„è¯­æ³•ï¼ŒåŒæ¥æ£€æŸ¥æ•°ç»„ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šå…ƒç´ ã€‚</p><p>å¯¹äºES6åŠæ›´ä½ç‰ˆæœ¬ï¼Œæƒ³è¦æ£€æŸ¥æ•°ç»„ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šå…ƒç´ ï¼Œä½ ä¸å¾—ä¸ä½¿ç”¨indexOfæ–¹æ³•ï¼Œå®ƒæ£€æŸ¥æ•°ç»„ä¸­çš„ç´¢å¼•ï¼Œå¦‚æœå…ƒç´ ä¸å­˜åœ¨ï¼Œå®ƒè¿”å›-1ï¼Œç”±äº-1è¢«è®¡ç®—ä¸ºtrueï¼Œä½ éœ€å¯¹å…¶è¿›è¡Œå–åæ“ä½œï¼Œä¾‹å­å¦‚ä¸‹ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Not found&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡ES7å¼•å…¥çš„æ–°ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥å¦‚æ­¤åšï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Not found&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="æ±‚å¹‚è¿ç®—ç¬¦" tabindex="-1"><a class="header-anchor" href="#æ±‚å¹‚è¿ç®—ç¬¦" aria-hidden="true">#</a> æ±‚å¹‚è¿ç®—ç¬¦</h1><p>æ±‚å¹‚è¿ç®—ç¬¦**ç›¸å½“äºMath.pow()æ–¹æ³•ï¼Œä½†æ˜¯å®ƒä¸æ˜¯ä¸€ä¸ªå‡½æ•°åº“ï¼Œè€Œæ˜¯ä¸€ç§è¯­è¨€æœºåˆ¶ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">4</span> <span class="token operator">**</span> <span class="token number">2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¯¹äºéœ€è¦è¿›è¡Œå¯†é›†æ•°å­¦è¿ç®—çš„ç¨‹åºæ¥è¯´ï¼Œè¿™ä¸ªç‰¹æ€§æ˜¯ä¸ªå¾ˆå¥½çš„å¢å¼ºï¼Œåœ¨å¾ˆå¤šè¯­è¨€ä¸­ï¼Œ**è¿ç®—ç¬¦éƒ½æ˜¯æ ‡å‡†(åŒ…æ‹¬Pythonã€Rubyã€MATLABã€Perlç­‰å…¶å®ƒå¤šç§è¯­è¨€)ã€‚</p><p>è¿™äº›éƒ½æ˜¯2016å¹´å¼•å…¥çš„ç‰¹æ€§ï¼Œç°åœ¨è®©æˆ‘ä»¬è¿›å…¥2017å¹´ã€‚</p><h1 id="å­—ç¬¦ä¸²å¡«å……" tabindex="-1"><a class="header-anchor" href="#å­—ç¬¦ä¸²å¡«å……" aria-hidden="true">#</a> å­—ç¬¦ä¸²å¡«å……</h1><p>å­—ç¬¦ä¸²å¡«å……çš„ç›®çš„æ˜¯ç»™å­—ç¬¦ä¸²æ·»åŠ å­—ç¬¦ï¼Œä»¥ä½¿å…¶è¾¾åˆ°æŒ‡å®šé•¿åº¦ã€‚</p><p>ES2017å¼•å…¥äº†ä¸¤ä¸ªStringæ–¹æ³•ï¼špadStart()å’ŒpadEnd()ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">padStart</span><span class="token punctuation">(</span>targetLength <span class="token punctuation">[</span><span class="token punctuation">,</span> padString<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">padEnd</span><span class="token punctuation">(</span>targetLength <span class="token punctuation">[</span><span class="token punctuation">,</span> padString<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨ä¾‹å­ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„åŒ…å«äº†å¯¹è±¡è‡ªå·±çš„æ‰€æœ‰å±æ€§ï¼Œä½¿ç”¨å¦‚ä¸‹ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;Fred&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">87</span> <span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span> <span class="token comment">// [&#39;Fred&#39;, 87]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Object.values()ä¹Ÿå¯ä»¥ä½œç”¨äºæ•°ç»„ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> people <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;Fred&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Tony&#39;</span><span class="token punctuation">]</span>
Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>people<span class="token punctuation">)</span> <span class="token comment">// [&#39;Fred&#39;, &#39;Tony&#39;]</span>
Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„åŒ…å«äº†å¯¹è±¡è‡ªå·±çš„æ‰€æœ‰å±æ€§é”®å€¼å¯¹ï¼Œæ˜¯ä¸€ä¸ª[key, value]å½¢å¼çš„æ•°ç»„ï¼Œä½¿ç”¨å¦‚ä¸‹ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;Fred&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">87</span> <span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span> <span class="token comment">// [[&#39;name&#39;, &#39;Fred&#39;], [&#39;age&#39;, 87]]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Object.entries()ä¹Ÿå¯ä»¥ä½œç”¨äºæ•°ç»„ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> people <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;Fred&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Tony&#39;</span><span class="token punctuation">]</span>
Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>people<span class="token punctuation">)</span> <span class="token comment">// [[&#39;0&#39;, &#39;Fred&#39;], [&#39;1&#39;, &#39;Tony&#39;]]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="object-getownpropertydescriptors" tabindex="-1"><a class="header-anchor" href="#object-getownpropertydescriptors" aria-hidden="true">#</a> Object.getOwnPropertyDescriptors()</h1><p>è¯¥æ–¹æ³•è¿”å›è‡ªå·±(éç»§æ‰¿)çš„æ‰€æœ‰å±æ€§æè¿°ç¬¦ï¼ŒJavaScriptä¸­çš„ä»»ä½•å¯¹è±¡éƒ½æœ‰ä¸€ç»„å±æ€§ï¼Œæ¯ä¸ªå±æ€§éƒ½æœ‰ä¸€ä¸ªæè¿°ç¬¦ï¼Œæè¿°ç¬¦æ˜¯å±æ€§çš„ä¸€ç»„å±æ€§(attributes)ï¼Œç”±ä»¥ä¸‹éƒ¨åˆ†ç»„æˆï¼š</p><ul><li>value: ç†Ÿæ‚‰çš„valueå€¼</li><li>writable: å±æ€§æ˜¯å¦å¯ä»¥è¢«æ›´æ”¹</li><li>get: å±æ€§çš„getterå‡½æ•°, å½“å±æ€§è¯»å–æ—¶è¢«è°ƒç”¨</li><li>set: å±æ€§çš„setterå‡½æ•°, å½“å±æ€§è®¾ç½®å€¼æ—¶è¢«è°ƒç”¨</li><li>configurable: å¦‚æœä¸ºfalse, ä¸èƒ½åˆ é™¤è¯¥å±æ€§ï¼Œé™¤äº†å®ƒçš„valueå€¼ä»¥ä¸ºï¼Œä¹Ÿä¸èƒ½æ›´æ”¹ä»»ä½•å±æ€§ã€‚</li><li>enumerable: è¯¥å±æ€§æ˜¯å¦èƒ½æšä¸¾</li><li>Object.getOwnPropertyDescriptors(obj)æ¥å—ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªå¸¦æœ‰æè¿°ç¬¦é›†åˆçš„å¯¹è±¡ã€‚</li></ul><h1 id="in-what-way-is-this-useful" tabindex="-1"><a class="header-anchor" href="#in-what-way-is-this-useful" aria-hidden="true">#</a> In what way is this useful?</h1><p>ES6ç»™æˆ‘ä»¬æä¾›äº†Object.assign()æ–¹æ³•ï¼Œå®ƒä»ä¸€ä¸ªä¸€ä¸ªæˆ–å¤šä¸ªå¯¹è±¡ä¸­å¤åˆ¶æ‰€æœ‰å¯æšä¸¾çš„å±æ€§å€¼ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°å¯¹è±¡ã€‚</p><p>ä½†æ˜¯ï¼Œè¿™ä¹Ÿå­˜åœ¨ç€ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºå®ƒä¸èƒ½æ­£ç¡®çš„å¤åˆ¶ä¸€ä¸ªå…·æœ‰éé»˜è®¤å±æ€§å€¼çš„å±æ€§ã€‚</p><p>å¦‚æœå¯¹è±¡åªæœ‰ä¸€ä¸ªsetterï¼Œé‚£ä¹ˆå®ƒå°±ä¸ä¼šæ­£ç¡®çš„å¤åˆ¶åˆ°ä¸€ä¸ªæ–°å¯¹è±¡ä¸Šï¼Œä½¿ç”¨Object.assign()è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> person1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter">newName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newName<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™å°†ä¸ä¼šèµ·ä½œç”¨ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> person2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>person2<span class="token punctuation">,</span> person1<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½†è¿™å°†ä¼šèµ·ä½œç”¨ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> person3 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperties</span><span class="token punctuation">(</span>person3<span class="token punctuation">)</span>
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptors</span><span class="token punctuation">(</span>person1<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡ä¸€ä¸ªç®€å•çš„consoleæ§åˆ¶å°ï¼Œä½ å¯ä»¥æŸ¥çœ‹ä»¥ä¸‹ä»£ç ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>person1<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;x&#39;</span>
<span class="token string">&quot;x&quot;</span>
person2<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;x&#39;</span>
person3<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;x&#39;</span>
<span class="token string">&quot;x&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>person2æ²¡æœ‰setterï¼Œå®ƒæ²¡èƒ½å¤åˆ¶è¿›å»ï¼Œå¯¹è±¡çš„æµ…å¤åˆ¶é™å®šä¹Ÿå‡ºç°åœ¨Object.create()æ–¹æ³•ä¸­ã€‚</p><h1 id="å°¾é€—å·" tabindex="-1"><a class="header-anchor" href="#å°¾é€—å·" aria-hidden="true">#</a> å°¾é€—å·</h1><p>è¯¥ç‰¹æ€§å…è®¸åœ¨å‡½æ•°å®šä¹‰æ—¶æœ‰å°¾é€—å·ï¼Œåœ¨å‡½æ•°ä½¿ç”¨æ—¶å¯ä»¥æœ‰å°¾é€—å·ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">doSomething</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">var1<span class="token punctuation">,</span> var2<span class="token punctuation">,</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
<span class="token punctuation">}</span>
<span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token string">&#39;test2&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;test2&#39;</span><span class="token punctuation">,</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯¥æ”¹å˜å°†é¼“åŠ±å¼€å‘è€…åœæ­¢â€œåœ¨ä¸€è¡Œå¼€å§‹æ—¶å†™é€—å·â€çš„ä¸‘é™‹ä¹ æƒ¯</p><h1 id="å¼‚æ­¥å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#å¼‚æ­¥å‡½æ•°" aria-hidden="true">#</a> å¼‚æ­¥å‡½æ•°</h1><p>JavaScriptåœ¨å¾ˆçŸ­çš„æ—¶é—´å†…ä»å›è°ƒå‡½æ•°è¿›åŒ–åˆ°Promiseå‡½æ•°(ES2015)ï¼Œå¹¶è‡ªä»ES2017ä»¥æ¥ï¼Œå¼‚æ­¥JavaScriptçš„async/waitè¯­æ³•å˜å¾—æ›´åŠ ç®€å•ã€‚ å¼‚æ­¥å‡½æ•°æ˜¯Promiseå’Œgeneratorçš„ç»“åˆï¼ŒåŸºæœ¬ä¸Šï¼Œå®ƒæ˜¯æ¯”Promiseæ›´é«˜çº§çš„æŠ½è±¡ï¼Œæˆ‘å†é‡å¤ä¸€èˆ¬ï¼šasync/awaitæ˜¯åŸºäºPromiseå»ºç«‹çš„</p><h2 id="ä¸ºä»€ä¹ˆè¦å¼•å…¥async-await" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆè¦å¼•å…¥async-await" aria-hidden="true">#</a> ä¸ºä»€ä¹ˆè¦å¼•å…¥async/await</h2><p>å®ƒå‡å°‘äº†å›´ç»•promiseçš„å¼•ç”¨ï¼Œå¹¶æ‰“ç ´äº†Promise â€” â€œä¸è¦æ‰“æ–­é“¾å¼è°ƒç”¨â€çš„é™åˆ¶ã€‚</p><p>å½“Promiseåœ¨ES2015ä¸­å¼•å…¥æ—¶ï¼Œå®ƒçš„æœ¬æ„æ˜¯æ¥è§£å†³å¼‚æ­¥ä»£ç çš„é—®é¢˜ï¼Œå®ƒä¹Ÿç¡®å®åšåˆ°äº†ï¼Œä½†åœ¨ES2015å’ŒES2017é—´éš”çš„è¿™ä¸¤å¹´ä¸­ï¼Œå¤§å®¶æ„è¯†åˆ°ï¼šPromiseä¸æ˜¯è§£å†³é—®é¢˜çš„ç»ˆææ–¹æ¡ˆã€‚</p><p>Promiseæ˜¯ä¸ºäº†è§£å†³è‘—åçš„å›è°ƒåœ°ç‹±è€Œè¢«å¼•å…¥çš„ï¼Œä½†å®ƒæœ¬èº«ä¹Ÿå¸¦æ¥äº†ä½¿ç”¨å¤æ‚æ€§å’Œè¯­æ³•å¤æ‚æ€§ã€‚</p><p>Promiseæ˜¯å¾ˆå¥½çš„åŸç”Ÿç‰¹æ€§ï¼Œå›´ç»•ç€å®ƒå¼€å‘äººå‘˜å¯ä»¥æ¢ç´¢å‡ºæ›´å¥½çš„è¯­æ³•ï¼Œå› æ­¤å½“æ—¶æœºæˆç†Ÿåï¼Œæˆ‘ä»¬å¾—åˆ°äº†asyncå‡½æ•°</p><p>asyncå‡½æ•°ä½¿ä»£ç çœ‹èµ·æ¥åƒæ˜¯åŒæ­¥å‡½æ•°ä¸€æ ·ï¼Œä½†å…¶èƒŒåå´æ˜¯å¼‚æ­¥å’Œéå µå¡çš„ã€‚</p><h2 id="å®ƒå¦‚ä½•å·¥ä½œ" tabindex="-1"><a class="header-anchor" href="#å®ƒå¦‚ä½•å·¥ä½œ" aria-hidden="true">#</a> å®ƒå¦‚ä½•å·¥ä½œ</h2><p>ä¸€ä¸ªasyncå‡½æ•°ä¼šè¿”å›ä¸€ä¸ªpromiseï¼Œå¦‚ä¸‹ä¾‹ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">doSomethingAsync</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;I did something&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ä½ æƒ³è¦è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œä½ åœ¨å‰é¢åŠ ä¸Šäº†ä¸€ä¸ªwaitï¼Œè¿™æ ·è°ƒç”¨å°±ä¼šè¢«åœæ­¢ï¼Œç›´åˆ°è¯¥promiseè¿›è¡Œresolveæˆ–rejectï¼Œéœ€æ³¨æ„çš„æ˜¯ï¼šå¤–å±‚å‡½æ•°å¿…é¡»å®šä¹‰ä¸ºasyncï¼Œè¿™æ˜¯ä¾‹å­ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">doSomething</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token function">doSomethingAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ä¸€ä¸ªä¸Šæ‰‹ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#ä¸€ä¸ªä¸Šæ‰‹ç¤ºä¾‹" aria-hidden="true">#</a> ä¸€ä¸ªä¸Šæ‰‹ç¤ºä¾‹</h2><p>è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨async/awaitè¿›è¡Œå¼‚æ­¥å‡½æ•°çš„ç®€å•ç¤ºä¾‹ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">doSomethingAsync</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;I did something&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">doSomething</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token function">doSomethingAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Before&#39;</span><span class="token punctuation">)</span>
<span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;After&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„ä»£ç å°†ä¼šåœ¨æµè§ˆå™¨çš„consoleä¸­æ‰“å°å‡ºå¦‚ä¸‹ç»“æœï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>Before
After
<span class="token constant">I</span> did something <span class="token comment">//after 3s</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å…³äº-promise" tabindex="-1"><a class="header-anchor" href="#å…³äº-promise" aria-hidden="true">#</a> å…³äº Promise</h2><p>å°† async å…³é”®å­—æ ‡è®°åœ¨ä»»ä½•å‡½æ•°ä¸Šï¼Œæ„å‘³ç€è¿™ä¸ªå‡½æ•°éƒ½å°†è¿”å›ä¸€ä¸ª Promiseï¼Œå³ä½¿è¿™ä¸ªå‡½æ•°æ²¡æœ‰æ˜¾å¼çš„è¿”å›ï¼Œå®ƒåœ¨å†…éƒ¨ä¹Ÿä¼šè¿”å›ä¸€ä¸ª Promiseï¼Œè¿™å°±æ˜¯ä¸‹é¢è¿™ä»½ä»£ç æœ‰æ•ˆçš„åŸå› ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">aFunction</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&#39;test&#39;</span>
<span class="token punctuation">}</span>
<span class="token function">aFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>alert<span class="token punctuation">)</span> <span class="token comment">// This will alert &#39;test&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸‹é¢çš„ä¾‹å­ä¹Ÿä¸€æ ·:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">aFunction</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;test&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">aFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>alert<span class="token punctuation">)</span> <span class="token comment">// This will alert &#39;test&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>###æ›´æ˜“äºé˜…è¯»çš„ä»£ç </p><p>æ­£å¦‚ä¸Šè¿°çš„ä¾‹å­ï¼Œæˆ‘ä»¬å°†å®ƒä¸æ™®é€šå›è°ƒå‡½æ•°æˆ–é“¾å¼å‡½æ•°è¿›è¡Œæ¯”è¾ƒï¼Œæˆ‘ä»¬çš„ä»£ç çœ‹èµ·æ¥éå¸¸çš„ç®€å•ã€‚</p><p>è¿™æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„ä¾‹å­ï¼Œå½“ä»£ç è¶³å¤Ÿå¤æ‚æ—¶ï¼Œå®ƒä¼šäº§ç”Ÿæ›´å¤šçš„æ”¶ç›Šã€‚</p><p>ä¾‹å¦‚ï¼Œä½¿ç”¨ Promise æ¥è·å– JSON èµ„æºå¹¶è§£æå®ƒï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">getFirstUserData</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;/users.json&#39;</span><span class="token punctuation">)</span> <span class="token comment">// get users list</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// parse JSON</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">users</span> <span class="token operator">=&gt;</span> users<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// pick first user</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">user</span> <span class="token operator">=&gt;</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/users/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// get user data</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">userResponse</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// parse JSON</span>
<span class="token punctuation">}</span>
<span class="token function">getFirstUserData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ˜¯ä½¿ç”¨ async/await å®ç°ç›¸åŒåŠŸèƒ½çš„ä¾‹å­ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">getFirstUserData</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;/users.json&#39;</span><span class="token punctuation">)</span> <span class="token comment">// get users list</span>
  <span class="token keyword">const</span> users <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// parse JSON</span>
  <span class="token keyword">const</span> user <span class="token operator">=</span> users<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token comment">// pick first user</span>
  <span class="token keyword">const</span> userResponse <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/users/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span> <span class="token comment">// get user data</span>
  <span class="token keyword">const</span> userData <span class="token operator">=</span> <span class="token keyword">await</span> user<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// parse JSON</span>
  <span class="token keyword">return</span> userData
<span class="token punctuation">}</span>
<span class="token function">getFirstUserData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ä¸²è¡Œå¤šä¸ªå¼‚æ­¥åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#ä¸²è¡Œå¤šä¸ªå¼‚æ­¥åŠŸèƒ½" aria-hidden="true">#</a> ä¸²è¡Œå¤šä¸ªå¼‚æ­¥åŠŸèƒ½</h2><p>async å‡½æ•°éå¸¸å®¹æ˜“ï¼Œå¹¶ä¸”å®ƒçš„è¯­æ³•æ¯” Promise æ›´æ˜“è¯»ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">promiseToDoSomething</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;I did something&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">watchOverSomeoneDoingSomething</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> something <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">promiseToDoSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> something <span class="token operator">+</span> <span class="token string">&#39; and I watched&#39;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">watchOverSomeoneWatchingSomeoneDoingSomething</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> something <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">watchOverSomeoneDoingSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> something <span class="token operator">+</span> <span class="token string">&#39; and I watched as well&#39;</span>
<span class="token punctuation">}</span>
<span class="token function">watchOverSomeoneWatchingSomeoneDoingSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰“å°ç»“æœ:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token constant">I</span> did something and <span class="token constant">I</span> watched and <span class="token constant">I</span> watched <span class="token keyword">as</span> well
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="æ›´ç®€å•çš„è°ƒè¯•" tabindex="-1"><a class="header-anchor" href="#æ›´ç®€å•çš„è°ƒè¯•" aria-hidden="true">#</a> æ›´ç®€å•çš„è°ƒè¯•</h2><p>è°ƒè¯• Promise å°±å¾ˆå›°éš¾ï¼Œå› ä¸ºè°ƒè¯•å™¨æ— æ³•è·¨è¶Šå¼‚æ­¥ä»£ç ï¼Œä½†è°ƒè¯• async/await å°±éå¸¸çš„ç®€å•ï¼Œè°ƒè¯•å™¨ä¼šåƒè°ƒè¯•åŒæ­¥ä»£ç ä¸€æ ·æ¥å¤„ç†å®ƒã€‚</p><h2 id="å…±äº«å†…å­˜å’ŒåŸå­" tabindex="-1"><a class="header-anchor" href="#å…±äº«å†…å­˜å’ŒåŸå­" aria-hidden="true">#</a> å…±äº«å†…å­˜å’ŒåŸå­</h2><p>WebWorkers å¯ä»¥åœ¨æµè§ˆå™¨ä¸­åˆ›å»ºå¤šçº¿ç¨‹ç¨‹åºã€‚</p><p>å®ƒä»¬é€šè¿‡äº‹ä»¶çš„æ–¹å¼æ¥ä¼ é€’æ¶ˆæ¯ï¼Œä» ES2017 å¼€å§‹ï¼Œä½ å¯ä»¥ä½¿ç”¨ SharedArrayBuffer åœ¨æ¯ä¸€ä¸ª Worker ä¸­å’Œå®ƒä»¬çš„åˆ›å»ºè€…ä¹‹é—´å…±äº«å†…å­˜æ•°ç»„.</p><p>ç”±äºä¸çŸ¥é“å†™å…¥å†…å­˜éƒ¨åˆ†éœ€è¦å¤šé•¿çš„å‘¨æœŸæ¥å¹¿æ’­ï¼Œå› æ­¤åœ¨è¯»å–å€¼æ—¶ï¼Œä»»ä½•ç±»å‹çš„å†™å…¥æ“ä½œéƒ½ä¼šå®Œæˆï¼ŒAtomics å¯ä»¥é¿å…ç«äº‰æ¡ä»¶çš„å‘ç”Ÿã€‚</p><p>å…³äºå®ƒçš„æ›´å¤šç»†èŠ‚å¯ä»¥åœ¨proposalä¸­æ‰¾åˆ°ã€‚</p><p>è¿™æ˜¯ ES2017ï¼Œæ¥ä¸‹æ¥æˆ‘å°†ä»‹ç» ES2018 çš„åŠŸèƒ½ã€‚</p><p>Rest/Spread Properties</p><p>ES2015 å¼•å…¥äº†è§£æ„æ•°ç»„çš„æ–¹æ³•ï¼Œå½“ä½ ä½¿ç”¨æ—¶ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span>first<span class="token punctuation">,</span> second<span class="token punctuation">,</span> <span class="token operator">...</span>others<span class="token punctuation">]</span> <span class="token operator">=</span> numbers
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>and å±•å¼€å‚æ•°:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b <span class="token operator">+</span> c <span class="token operator">+</span> d <span class="token operator">+</span> e
<span class="token keyword">const</span> sum <span class="token operator">=</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token operator">...</span>numbers<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ES2018 ä¸ºå¯¹è±¡å¼•å…¥äº†åŒæ ·çš„åŠŸèƒ½ã€‚</p><p>è§£æ„:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> first<span class="token punctuation">,</span> second<span class="token punctuation">,</span> <span class="token operator">...</span>others <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">first</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">second</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">third</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">fourth</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token literal-property property">fifth</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span>
first <span class="token comment">// 1</span>
second <span class="token comment">// 2</span>
others <span class="token comment">// { third: 3, fourth: 4, fifth: 5 }</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å±•å¼€å±æ€§ å…è®¸é€šè¿‡ç»„åˆåœ¨å±•å¼€è¿ç®—ç¬¦ä¹‹åä¼ é€’çš„å¯¹è±¡å±æ€§è€Œåˆ›å»ºæ–°å¯¹è±¡ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token punctuation">{</span> first<span class="token punctuation">,</span> second<span class="token punctuation">,</span> <span class="token operator">...</span>others <span class="token punctuation">}</span>
items <span class="token comment">//{ first: 1, second: 2, third: 3, fourth: 4, fifth: 5 }</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å¼‚æ­¥è¿­ä»£å™¨" tabindex="-1"><a class="header-anchor" href="#å¼‚æ­¥è¿­ä»£å™¨" aria-hidden="true">#</a> å¼‚æ­¥è¿­ä»£å™¨</h2><p>for-await-of å…è®¸ä½ ä½¿ç”¨å¼‚æ­¥å¯è¿­ä»£å¯¹è±¡åšä¸ºå¾ªç¯è¿­ä»£ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">const</span> line <span class="token keyword">of</span> <span class="token function">readLines</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å› ä¸ºå®ƒä½¿ç”¨çš„äº† awaitï¼Œå› æ­¤ä½ åªèƒ½åœ¨ async å‡½æ•°ä¸­ä½¿ç”¨å®ƒã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token class-name">Promise</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å½“ä¸€ä¸ª Promise æ˜¯ fulfilled æ—¶ï¼Œå®ƒä¼šä¸€ä¸ªæ¥ä¸€ä¸ªçš„è°ƒç”¨ thenã€‚</p><p>å¦‚æœåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å‘ç”Ÿäº†é”™è¯¯ï¼Œåˆ™ä¼šè·³è¿‡ then è€Œæ‰§è¡Œ catchã€‚</p><p>è€Œ finally() å…è®¸ä½ è¿è¡Œä¸€äº›ä»£ç ï¼Œæ— è®ºæ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;file.json&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> data<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;finished&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="æ­£åˆ™è¡¨è¾¾å¼æ”¹è¿›" tabindex="-1"><a class="header-anchor" href="#æ­£åˆ™è¡¨è¾¾å¼æ”¹è¿›" aria-hidden="true">#</a> æ­£åˆ™è¡¨è¾¾å¼æ”¹è¿›</h1><p>ES2018 å¯¹æ­£åˆ™è¡¨è¾¾å¼å¼•å…¥äº†è®¸å¤šæ”¹è¿›ï¼Œè¿™äº›éƒ½å¯ä»¥åœ¨ https://flaviocopes.com/javascript-regular-expressions/ ä¸Šæ‰¾åˆ°ã€‚</p><p>ä»¥ä¸‹æ˜¯å…³äº ES2018 æ­£åˆ™è¡¨è¾¾å¼æ”¹è¿›çš„å…·ä½“è¡¥å……ï¼š</p><p>RegExp lookbehind assertions: æ ¹æ®å‰é¢çš„å†…å®¹åŒ¹é…å­—ç¬¦ä¸²</p><p>è¿™æ˜¯ä¸€ä¸ª lookahead: ä½ å¯ä»¥ä½¿ç”¨ ?= æ¥åŒ¹é…å­—ç¬¦ä¸²ï¼Œåé¢è·Ÿéšä¸€ä¸ªç‰¹å®šçš„å­—ç¬¦ä¸²ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">Roger(?=Waters)</span><span class="token regex-delimiter">/</span></span>
<span class="token operator">/</span><span class="token function">Roger</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">=</span>Waters<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;Roger is my dog&#39;</span><span class="token punctuation">)</span> <span class="token comment">//false</span>
<span class="token operator">/</span><span class="token function">Roger</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">=</span>Waters<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;Roger is my dog and Roger Waters is a famous musician&#39;</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>?! å¯ä»¥æ‰§è¡Œé€†æ“ä½œï¼Œå¦‚æœåŒ¹é…çš„å­—ç¬¦ä¸²æ˜¯noè€Œä¸æ˜¯åœ¨æ­¤åè·Ÿéšç‰¹å®šçš„å­å­—ç¬¦ä¸²çš„è¯ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">Roger(?!Waters)</span><span class="token regex-delimiter">/</span></span>
<span class="token operator">/</span><span class="token function">Roger</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">!</span>Waters<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;Roger is my dog&#39;</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
<span class="token operator">/</span><span class="token function">Roger</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">!</span>Waters<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;Roger Waters is a famous musician&#39;</span><span class="token punctuation">)</span> <span class="token comment">//false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Lookaheads ä½¿ç”¨ ?= Symbolï¼Œå®ƒä»¬å·²ç»å¯ä»¥ç”¨äº†ã€‚</p><p>Lookbehinds, æ˜¯ä¸€ä¸ªæ–°åŠŸèƒ½ä½¿ç”¨?&lt;=.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;=Roger) Waters</span><span class="token regex-delimiter">/</span></span>
<span class="token operator">/</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">&lt;=</span>Roger<span class="token punctuation">)</span> Waters<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;Pink Waters is my dog&#39;</span><span class="token punctuation">)</span> <span class="token comment">//false</span>
<span class="token operator">/</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">&lt;=</span>Roger<span class="token punctuation">)</span> Waters<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;Roger is my dog and Roger Waters is a famous musician&#39;</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä¸€ä¸ª lookbehind æ˜¯å¦å®šï¼Œé‚£ä¹ˆä½¿ç”¨ ?&gt;!:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;!Roger) Waters</span><span class="token regex-delimiter">/</span></span>
<span class="token operator">/</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">&lt;</span><span class="token operator">!</span>Roger<span class="token punctuation">)</span> Waters<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;Pink Waters is my dog&#39;</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
<span class="token operator">/</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">&lt;</span><span class="token operator">!</span>Roger<span class="token punctuation">)</span> Waters<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;Roger is my dog and Roger Waters is a famous musician&#39;</span><span class="token punctuation">)</span> <span class="token comment">//false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Unicodeå±æ€§è½¬ä¹‰ <code>p{â€¦}</code> and <code>P{â€¦}</code></p><p>åœ¨æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ d æ¥åŒ¹é…ä»»æ„çš„æ•°å­—ï¼Œs æ¥åŒ¹é…ä»»æ„ä¸æ˜¯ç©ºæ ¼çš„å­—ç¬¦ä¸²ï¼Œw æ¥åŒ¹é…ä»»æ„å­—æ¯æ•°å­—å­—ç¬¦ä¸²ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><p>This new feature extends this concept to all Unicode characters introducing p{} and is negation P{}.</p><p>è¿™ä¸ªæ–°åŠŸèƒ½æ‰©å±•äº†unicodeå­—ç¬¦ï¼Œå¼•å…¥äº† p{} æ¥å¤„ç†</p><p>ä»»ä½• unicode å­—ç¬¦éƒ½æœ‰ä¸€ç»„å±æ€§ï¼Œä¾‹å¦‚ script ç¡®è®¤è¯­è¨€ï¼ŒASCII æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ç”¨äºæ£€æŸ¥ ASCII å­—ç¬¦ã€‚ä½ å¯ä»¥å°†æ­¤å±æ€§æ–¹åœ¨() ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼å°†æ¥æ£€æŸ¥æ˜¯å¦ä¸ºçœŸã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^p{ASCII}+$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">u</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;abc&#39;</span><span class="token punctuation">)</span>   <span class="token comment">//âœ…</span>
<span class="token operator">/</span><span class="token operator">^</span>p<span class="token punctuation">{</span><span class="token constant">ASCII</span><span class="token punctuation">}</span><span class="token operator">+</span>$<span class="token operator">/</span>u<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;ABC@&#39;</span><span class="token punctuation">)</span>  <span class="token comment">//âœ…</span>
<span class="token operator">/</span><span class="token operator">^</span>p<span class="token punctuation">{</span><span class="token constant">ASCII</span><span class="token punctuation">}</span><span class="token operator">+</span>$<span class="token operator">/</span>u<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;ABCğŸ™ƒ&#39;</span><span class="token punctuation">)</span> <span class="token comment">//âŒ</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ASCII_Hex_Digit æ˜¯å¦ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œç”¨äºæ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æœ‰æ•ˆçš„åå…­è¿›åˆ¶æ•°å­—ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^p{ASCII_Hex_Digit}+$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">u</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;0123456789ABCDEF&#39;</span><span class="token punctuation">)</span> <span class="token comment">//âœ…</span>
<span class="token operator">/</span><span class="token operator">^</span>p<span class="token punctuation">{</span>ASCII_Hex_Digit<span class="token punctuation">}</span><span class="token operator">+</span>$<span class="token operator">/</span>u<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;h&#39;</span><span class="token punctuation">)</span>                <span class="token comment">//âŒ</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šå…¶å®ƒçš„å±æ€§ã€‚ä½ å¯ä»¥åœ¨()ä¸­æ·»åŠ å®ƒä»¬çš„åå­—æ¥æ£€æŸ¥å®ƒä»¬ï¼ŒåŒ…æ‹¬ Uppercase, Lowercase, White_Space, Alphabetic, Emojiç­‰ç­‰ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^p{Lowercase}$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">u</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;h&#39;</span><span class="token punctuation">)</span> <span class="token comment">//âœ…</span>
<span class="token operator">/</span><span class="token operator">^</span>p<span class="token punctuation">{</span>Uppercase<span class="token punctuation">}</span>$<span class="token operator">/</span>u<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;H&#39;</span><span class="token punctuation">)</span> <span class="token comment">//âœ…</span>
<span class="token operator">/</span><span class="token operator">^</span>p<span class="token punctuation">{</span>Emoji<span class="token punctuation">}</span><span class="token operator">+</span>$<span class="token operator">/</span>u<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;H&#39;</span><span class="token punctuation">)</span>   <span class="token comment">//âŒ</span>
<span class="token operator">/</span><span class="token operator">^</span>p<span class="token punctuation">{</span>Emoji<span class="token punctuation">}</span><span class="token operator">+</span>$<span class="token operator">/</span>u<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;ğŸ™ƒğŸ™ƒ&#39;</span><span class="token punctuation">)</span> <span class="token comment">//âœ…</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é™¤äº†äºŒè¿›åˆ¶å±æ€§å¤–ï¼Œä½ è¿˜å¯ä»¥æ£€æŸ¥ä»»ä½• unicode å­—ç¬¦å±æ€§ä»¥åŒ¹é…ç‰¹å®šçš„å€¼ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯ç”¨å¸Œè…Šè¯­è¿˜æ˜¯æ‹‰ä¸å­—æ¯å†™çš„ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^p{Script=Greek}+$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">u</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;ÎµÎ»Î»Î·Î½Î¹ÎºÎ¬&#39;</span><span class="token punctuation">)</span> <span class="token comment">//âœ…</span>
<span class="token operator">/</span><span class="token operator">^</span>p<span class="token punctuation">{</span>Script<span class="token operator">=</span>Latin<span class="token punctuation">}</span><span class="token operator">+</span>$<span class="token operator">/</span>u<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;hey&#39;</span><span class="token punctuation">)</span> <span class="token comment">//âœ…</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>é˜…è¯»https://github.com/tc39/proposal-regexp-unicode-property-escapes è·å–ä½¿ç”¨æ‰€æœ‰å±æ€§çš„è¯¦ç»†ä¿¡æ¯ã€‚</p><p>Named capturing groups In ES2018 a capturing group can be assigned to a name, rather than just being assigned a slot in the result array:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> re <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;year&gt;d{4})-(?&lt;month&gt;d{2})-(?&lt;day&gt;d{2})</span><span class="token regex-delimiter">/</span></span>
<span class="token keyword">const</span> result <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">&#39;2015-01-02&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// result.groups.year === &#39;2015&#39;</span>
<span class="token comment">// result.groups.month === &#39;01&#39;</span>
<span class="token comment">// result.groups.day === &#39;02&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The s flag for regular expressions The s flag, short for single line, causes the . to match new line characters as well. Without it, the dot matches regular characters but not the new line:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">hi.welcome</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>&#39;hi
welcome&#39;<span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token operator">/</span>hi<span class="token punctuation">.</span>welcome<span class="token operator">/</span>s<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>&#39;hi
welcome&#39;<span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="esnext" tabindex="-1"><a class="header-anchor" href="#esnext" aria-hidden="true">#</a> ESNext</h1><h2 id="ä»€ä¹ˆæ˜¯-esnext" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯-esnext" aria-hidden="true">#</a> ä»€ä¹ˆæ˜¯ ESNext</h2><p>ESNext æ˜¯ä¸€ä¸ªå§‹ç»ˆæŒ‡å‘ä¸‹ä¸€ä¸ªç‰ˆæœ¬ JavaScript çš„åç§°ã€‚</p><p>å½“å‰çš„ ECMAScript ç‰ˆæœ¬æ˜¯ ES2018ï¼Œå®ƒäº2018å¹´6æœˆè¢«å‘å¸ƒã€‚</p><p>å†å²ä¸Š JavaScript æ ‡å‡†åŒ–çš„ç‰ˆæœ¬éƒ½æ˜¯åœ¨å¤å­£è¢«å‘å¸ƒï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é¢„æœŸ ECMAScript 2019 å°†äº 2019 å¹´çš„å¤å­£è¢«å‘å¸ƒã€‚</p><p>æ‰€ä»¥åœ¨ç¼–å†™æœ¬æ–‡æ—¶ ES2018 å·²ç»è¢«å‘å¸ƒï¼Œå› æ­¤ ESNext æŒ‡çš„æ˜¯ ES2019ã€‚</p><p>ECMAScript æ ‡å‡†çš„ææ¡ˆæ˜¯åˆ†é˜¶æ®µç»„ç»‡çš„ï¼Œç¬¬ä¸€åˆ°ç¬¬ä¸‰é˜¶æ®µå±äºåŠŸèƒ½æ€§çš„å­µåŒ–ï¼Œç¬¬å››é˜¶æ®µçš„åŠŸèƒ½æ‰æœ€ç»ˆç¡®å®šä¸ºæ–°æ ‡å‡†çš„ä¸€éƒ¨åˆ†ã€‚</p><p>åœ¨ç¼–å†™æœ¬æ–‡æ—¶ä¸»è¦æµè§ˆå™¨éƒ½å®ç°äº†ç¬¬å››é˜¶æ®µå¤§éƒ¨åˆ†çš„åŠŸèƒ½ï¼Œå› æ­¤æˆ‘å°†åœ¨æœ¬æ–‡ä¸­ä»‹ç»å®ƒä»¬ã€‚</p><p>å…¶ä¸­ä¸€äº›å˜åŒ–ä¸»è¦åœ¨å†…éƒ¨ä½¿ç”¨ï¼Œä½†çŸ¥é“å‘ç”Ÿäº†ä»€ä¹ˆè¿™ä¹Ÿå¾ˆå¥½ã€‚</p><p>ç¬¬ä¸‰é˜¶æ®µè¿˜æœ‰ä¸€äº›å…¶å®ƒåŠŸèƒ½ï¼Œå¯èƒ½ä¼šåœ¨æ¥ä¸‹æ¥çš„å‡ ä¸ªæœˆå†…å‡çº§åˆ°ç¬¬å››é˜¶æ®µï¼Œä½ å¯ä»¥åœ¨è¿™ä¸ª Github ä»“åº“ä¸­æŸ¥çœ‹å®ƒä»¬ï¼šhttps://github.com/tc39/proposalsã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token punctuation">{</span>flat<span class="token punctuation">,</span>flatMap<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>flat() æ˜¯ä¸€ä¸ªæ–°çš„æ•°ç»„å®ä¾‹æ–¹æ³•ï¼Œå®ƒå¯ä»¥å°†å¤šç»´æ•°ç»„è½¬åŒ–æˆä¸€ç»´æ•°ç»„ã€‚</p><p>ä¾‹å­:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token string">&#39;Dog&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;Sheep&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Wolf&#39;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">//[ &#39;Dog&#39;, &#39;Sheep&#39;, &#39;Wolf&#39; ]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>é»˜è®¤æƒ…å†µä¸‹å®ƒåªèƒ½å°†äºŒç»´çš„æ•°ç»„è½¬åŒ–æˆä¸€ç»´çš„æ•°ç»„ï¼Œä½†ä½ å¯ä»¥æ·»åŠ ä¸€ä¸ªå‚æ•°æ¥ç¡®å®šè¦å±•å¼€çš„çº§åˆ«ï¼Œå¦‚æœä½ å°†è¿™ä¸ªå‚æ•°è®¾ç½®ä¸º Infinity é‚£ä¹ˆå®ƒå°†å±•å¼€æ— é™çš„çº§åˆ«åˆ°ä¸€ç»´æ•°ç»„ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token string">&#39;Dog&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;Sheep&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;Wolf&#39;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">//[ &#39;Dog&#39;, &#39;Sheep&#39;, [ &#39;Wolf&#39; ] ]</span>
<span class="token punctuation">[</span><span class="token string">&#39;Dog&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;Sheep&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;Wolf&#39;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment">//[ &#39;Dog&#39;, &#39;Sheep&#39;, &#39;Wolf&#39; ]</span>
<span class="token punctuation">[</span><span class="token string">&#39;Dog&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;Sheep&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;Wolf&#39;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">Infinity</span><span class="token punctuation">)</span>
<span class="token comment">//[ &#39;Dog&#39;, &#39;Sheep&#39;, &#39;Wolf&#39; ]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä½ ç†Ÿæ‚‰æ•°ç»„çš„ map æ–¹æ³•ï¼Œé‚£ä¹ˆä½ å°±çŸ¥é“ä½¿ç”¨å®ƒå¯ä»¥å¯¹æ•°ç»„çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€ä¸ªå‡½æ•°ã€‚</p><p>flatMap() æ˜¯ä¸€ä¸ªæ–°çš„æ•°ç»„å®ä¾‹æ–¹æ³•ï¼Œå®ƒå°† flat() å’Œ map ç»“åˆäº†èµ·æ¥ï¼Œå½“ä½ æœŸæœ›åœ¨mapå‡½æ•°ä¸­åšä¸€äº›å¤„ç†æ—¶è¿™éå¸¸æœ‰ç”¨ï¼ŒåŒæ—¶åˆå¸Œæœ›ç»“æœå¦‚åŒ flat ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token string">&#39;My dog&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;is awesome&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">words</span> <span class="token operator">=&gt;</span> words<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39; &#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//[ [ &#39;My&#39;, &#39;dog&#39; ], [ &#39;is&#39;, &#39;awesome&#39; ] ]</span>
<span class="token punctuation">[</span><span class="token string">&#39;My dog&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;is awesome&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span><span class="token parameter">words</span> <span class="token operator">=&gt;</span> words<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39; &#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//[ &#39;My&#39;, &#39;dog&#39;, &#39;is&#39;, &#39;awesome&#39; ]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="optional-catch-binding" tabindex="-1"><a class="header-anchor" href="#optional-catch-binding" aria-hidden="true">#</a> Optional catch binding</h1><p>æœ‰æ—¶å€™æˆ‘ä»¬å¹¶ä¸éœ€è¦å°†å‚æ•°ç»‘å®šåˆ° try/catch ä¸­ã€‚</p><p>åœ¨ä»¥å‰æˆ‘ä»¬ä¸å¾—ä¸è¿™æ ·åšï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//handle error</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å³ä½¿æˆ‘ä»¬ä»æ¥æ²¡æœ‰é€šè¿‡ e æ¥åˆ†æé”™è¯¯ï¼Œä½†ç°åœ¨æˆ‘ä»¬å¯ä»¥ç®€å•çš„çœç•¥å®ƒï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span>
  <span class="token comment">//handle error</span>
<span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Objects have an entries() method, since ES2017. ä» ES2017 å¼€å§‹ Objectå°†æœ‰ä¸€ä¸ª entries() æ–¹æ³•ã€‚</p><p>å®ƒå°†è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰å¯¹è±¡è‡ªèº«å±æ€§çš„æ•°ç»„çš„æ•°ç»„ï¼Œå¦‚[key, value]ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;Fred&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">87</span> <span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span> <span class="token comment">// [[&#39;name&#39;, &#39;Fred&#39;], [&#39;age&#39;, 87]]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ES2019 å¼•å…¥äº†ä¸€ä¸ªæ–°çš„ Object.fromEntries() æ–¹æ³•ï¼Œå®ƒå¯ä»¥ä»ä¸Šè¿°çš„å±æ€§æ•°ç»„ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;Fred&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">87</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> entries <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>
<span class="token keyword">const</span> newPerson <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span>entries<span class="token punctuation">)</span>

person <span class="token operator">!==</span> newPerson <span class="token comment">//true</span>
<span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token punctuation">{</span>trimStart<span class="token punctuation">,</span>trimEnd<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™äº›åŠŸèƒ½å·²ç»è¢« v8/Chrome å®ç°äº†è¿‘ä¸€å¹´çš„æ—¶é—´ï¼Œå®ƒå°†åœ¨ ES2019 ä¸­å®ç°æ ‡å‡†åŒ–ã€‚</p><p>trimStart()</p><p>åˆ é™¤å­—ç¬¦ä¸²é¦–éƒ¨çš„ç©ºæ ¼å¹¶è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token string">&#39;Testing&#39;</span><span class="token punctuation">.</span><span class="token function">trimStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//&#39;Testing&#39;</span>
<span class="token string">&#39; Testing&#39;</span><span class="token punctuation">.</span><span class="token function">trimStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//&#39;Testing&#39;</span>
<span class="token string">&#39; Testing &#39;</span><span class="token punctuation">.</span><span class="token function">trimStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//&#39;Testing &#39;</span>
<span class="token string">&#39;Testing&#39;</span><span class="token punctuation">.</span><span class="token function">trimStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//&#39;Testing&#39;</span>
<span class="token function">trimEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ é™¤å­—ç¬¦ä¸²å°¾éƒ¨çš„ç©ºæ ¼å¹¶è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token string">&#39;Testing&#39;</span><span class="token punctuation">.</span><span class="token function">trimEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//&#39;Testing&#39;</span>
<span class="token string">&#39; Testing&#39;</span><span class="token punctuation">.</span><span class="token function">trimEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//&#39; Testing&#39;</span>
<span class="token string">&#39; Testing &#39;</span><span class="token punctuation">.</span><span class="token function">trimEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//&#39; Testing&#39;</span>
<span class="token string">&#39;Testing &#39;</span><span class="token punctuation">.</span><span class="token function">trimEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//&#39;Testing&#39;</span>
<span class="token class-name">Symbol</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>description
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç°åœ¨ä½ å¯ä»¥ä½¿ç”¨ description æ¥è·å– Symbol çš„å€¼ï¼Œè€Œä¸å¿…ä½¿ç”¨ toString() æ–¹æ³•ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> testSymbol <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&#39;Test&#39;</span><span class="token punctuation">)</span>
testSymbol<span class="token punctuation">.</span>description <span class="token comment">// &#39;Test&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="json-improvements" tabindex="-1"><a class="header-anchor" href="#json-improvements" aria-hidden="true">#</a> JSON improvements</h1><p>åœ¨æ­¤ä¹‹å‰ JSON å­—ç¬¦ä¸²ä¸­ä¸å…è®¸ä½¿ç”¨åˆ†éš”ç¬¦ï¼ˆï¼‰å’Œåˆ†éš”ç¬¦ï¼ˆï¼‰ã€‚</p><p>ä½¿ç”¨ JSON.parse æ—¶ï¼Œè¿™äº›å­—ç¬¦ä¼šå¯¼è‡´ä¸€ä¸ª SyntaxError é”™è¯¯ï¼Œä½†ç°åœ¨å®ƒä»¬å¯ä»¥æ­£ç¡®çš„è§£æå¹¶å¦‚ JSON æ ‡å‡†å®šä¹‰çš„é‚£æ ·ã€‚</p><h2 id="well-formed-json-stringify" tabindex="-1"><a class="header-anchor" href="#well-formed-json-stringify" aria-hidden="true">#</a> Well-formed JSON.stringify()</h2><p>ä¿®å¤ JSON.stringify() åœ¨å¤„ç† UTF-8 code points (U+D800 to U+DFFF)ã€‚</p><p>åœ¨ä¿®å¤ä¹‹å‰ï¼Œè°ƒç”¨ JSON.stringify() å°†è¿”å›æ ¼å¼é”™è¯¯çš„ Unicode å­—ç¬¦ï¼Œå¦‚ï¼ˆa â€œï¿½â€)ã€‚</p><p>ç°åœ¨ä½ å¯ä»¥å®‰å…¨æ”¾å¿ƒçš„ä½¿ç”¨ JSON.stringify() è½¬æˆå­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ JSON.parse() å°†å®ƒè½¬æ¢å›åŸå§‹è¡¨ç¤ºçš„å½¢æ€ã€‚</p><h2 id="function-prototype-tostring" tabindex="-1"><a class="header-anchor" href="#function-prototype-tostring" aria-hidden="true">#</a> Function.prototype.toString()</h2><p>å‡½æ•°æ€»ä¼šæœ‰ä¸€ä¸ª toString æ–¹æ³•ï¼Œå®ƒå°†è¿”å›ä¸€ä¸ªåŒ…å«å‡½æ•°ä»£ç çš„å­—ç¬¦ä¸²ã€‚</p><p>ES2019 å¯¹è¿”å›å€¼åšäº†ä¿®æ”¹ï¼Œä»¥é¿å…å‰¥ç¦»æ³¨é‡Šå’Œå…¶å®ƒå­—ç¬¦ä¸²ï¼ˆå¦‚ï¼šç©ºæ ¼ï¼‰ï¼Œå°†æ›´å‡†ç¡®çš„è¡¨ç¤ºå‡½æ•°çš„å®šä¹‰ã€‚</p><p>If previously we had</p><p>ä»¥å‰ä¹Ÿè®¸æˆ‘ä»¬è¿™æ ·è¿‡ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token comment">/* this is bar */</span> <span class="token function">bar</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å½“æ—¶çš„è¡Œä¸ºï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>bar<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//&#39;function bar() {}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç°åœ¨çš„è¡Œä¸ºï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>bar<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;function /* this is bar */ bar () {}&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ€»ç»“ä¸€ä¸‹ï¼Œæˆ‘å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯ä»¥å¸®åŠ©ä½ äº†è§£ä¸€äº›æœ€æ–°çš„ JavaScript ä»¥åŠæˆ‘ä»¬åœ¨ 2019 å¹´å³å°†çœ‹è§çš„å†…å®¹ã€‚</p><h1 id="è½¬è½½" tabindex="-1"><a class="header-anchor" href="#è½¬è½½" aria-hidden="true">#</a> è½¬è½½</h1><p>åŸæ–‡åœ°å€ï¼š<a href="https://medium.freecodecamp.org/es5-to-esnext-heres-every-feature-added-to-javascript-since-2015-d0c255e13c6e" target="_blank" rel="noopener noreferrer">https://medium.freecodecamp.org/es5-to-esnext-heres-every-feature-added-to-javascript-since-2015-d0c255e13c6e<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><!----><footer class="page-meta"><!----><div class="meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav"><a aria-label="æ•°ç»„å»é‡" class="vp-link nav-link prev nav-link prev" href="/vuepress-blog/article/technology/front-end/js/array-unique.html"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->æ•°ç»„å»é‡</div></a><a aria-label="jQuery å­¦ä¹ ç¬”è®°" class="vp-link nav-link next nav-link next" href="/vuepress-blog/article/technology/front-end/js/jquery-study-note.html"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">jQuery å­¦ä¹ ç¬”è®°<!----></div></a></nav><div id="comment" class="giscus-wrapper input-top" style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><!----><div class="vp-copyright">Copyright Â© 2024 typeofNaN</div></footer></div><!--]--><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/vuepress-blog/assets/app-12666b42.js" defer></script>
  </body>
</html>
